(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[513],{53124:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[locale]",function(){return n(56647)}])},23857:function(e,t,n){"use strict";var a=n(79264),s=n(91463),i=n.n(s);t.Z=(0,a.Z)({supportedLngs:i().i18n.locales,fallbackLng:i().i18n.defaultLocale})},91463:function(e){"use strict";e.exports={i18n:{defaultLocale:"en",locales:["en","fr","es","sv"]}}},56647:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return tq},default:function(){return tY}});var a,s,i,l,r,o,c,u,d,p,m,y,x,h,f=n(85893),b=n(47318),g=n(66692),T=n(35880),v=n(31836),w=n(96445);let A=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")},j=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return new Intl.NumberFormat("en-US",{style:"currency",currency:t,useGrouping:!0}).format(e)};var N=n(83957),k=n(28126),S=n(67294);let C=()=>{let[e,t]=(0,S.useContext)(N.wP),[n,a]=(0,S.useState)(k.d.NONE),[s,i]=(0,S.useState)(""),[l,r]=(0,S.useState)(""),[o,c]=(0,S.useState)(""),[u,d]=(0,S.useState)(!1);return(0,S.useEffect)(()=>{let{title:t,message:n,type:s,hash:l}=e.alertShower;a(s),r(t),i(n),c(l),s!==k.d.NONE&&d(!0),s===k.d.NONE&&d(!1)},[e.alertShower]),(0,f.jsx)(b.u,{as:S.Fragment,show:u,enter:"transition duration-200 transform ease",enterFrom:"opacity-0 scale-90",enterTo:"opacity-100",leave:"transition duration-200 transform ease",leaveFrom:"opacity-100",leaveTo:"opacity-0 scale-90",children:(0,f.jsx)("div",{className:"max-w-screen fixed bottom-10 drop-shadow-2xl mx-auto z-30",children:(0,f.jsxs)("div",{className:A(n===k.d.INFO?"flex flex-wrap items-center justify-start space-y-1 md:space-y-0 bg-blue-100 rounded-lg p-4 mb-4 text-sm text-blue-700":n===k.d.WARNING?"flex flex-wrap items-center justify-start space-y-1 md:space-y-0 bg-yellow-100 rounded-lg p-4 mb-4 text-sm text-yellow-700":n===k.d.ERROR?"flex flex-wrap items-center justify-start space-y-1 md:space-y-0 bg-red-100 rounded-lg p-4 mb-4 text-sm text-red-700":n===k.d.SUCCESS?"flex flex-wrap items-center justify-start space-y-1 md:space-y-0 bg-green-100 rounded-lg p-4 mb-4 text-sm text-green-700":"flex flex-wrap items-center justify-start space-y-1 md:space-y-0 bg-slate-100 rounded-lg p-4 mb-4 text-sm text-slate-700"),role:"alert",children:[n===k.d.INFO?(0,f.jsx)(g.Z,{className:"h-5 w-5"}):n===k.d.SUCCESS?(0,f.jsx)(T.Z,{className:"h-5 w-5"}):n===k.d.WARNING?(0,f.jsx)(v.Z,{className:"h-5 w-5"}):n===k.d.ERROR?(0,f.jsx)(v.Z,{className:"h-5 w-5"}):n===k.d.LOADING?(0,f.jsx)("div",{className:"h-5 w-5 border-4 border-slate-700 border-t-transparent rounded-full animate-spin"}):"",(0,f.jsxs)("div",{className:"md:ml-2",children:[n!==k.d.LOADING&&(0,f.jsx)("span",{className:"font-medium",children:l})," ",s]}),n===k.d.LOADING&&o&&(0,f.jsx)("a",{className:"font-medium text-slate-800 underline md:ml-auto",href:"https://polygonscan.com/tx/".concat(o),children:"check status"}),n!==k.d.LOADING&&(0,f.jsx)("button",{className:"text-slate-800 hover:text-slate-700 ml-auto",onClick:()=>d(!u),children:(0,f.jsx)(w.Z,{className:"h-6 w-6"})})]})})})};var E=n(69077),I=n(24484);let D=e=>{let{tokenAddress:t,showSymbol:n}=e,{address:a}=(0,E.mA)(),{chain:s}=(0,E.LN)(),{data:i}=(0,E.KQ)({address:a,chainId:(null==s?void 0:s.id)||I.yu.id,token:t});return i?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("span",{children:Number(null==i?void 0:i.formatted).toFixed(2)}),n&&(0,f.jsx)("span",{children:null==i?void 0:i.symbol})]}):(0,f.jsx)("div",{className:"animate-pulse",children:(0,f.jsx)("div",{className:"h-4 rounded bg-slate-700"})})};var _=n(49808);(a=u||(u={})).Withdraw="withdraw",a.Deposit="deposit",a.Swap="swap";var F=n(7974),M=n(84034),R=n(60662),O=n(22536),U=n(58033),B=n(78),L=n(30531),Z=n(59175),W=n(93074),P=n(24639);let G=[{coin:L.sN.RIC,tokenAddress:Z.Nw,superTokenAddress:Z.cZ,multi:1e6,key:"hasUsdcApprove"},{coin:L.sN.StIbAlluoUSD,tokenAddress:Z.n0,superTokenAddress:Z.$v,multi:1e18,key:"hasIbAlluoUSDApprove"},{coin:L.sN.StIbAlluoETH,tokenAddress:Z.$G,superTokenAddress:Z.EV,multi:1e18,key:"hasIbAlluoETHApprove"},{coin:L.sN.StIbAlluoBTC,tokenAddress:Z.Mv,superTokenAddress:Z.HT,multi:1e18,key:"hasIbAlluoBTCApprove"},{coin:L.sN.USDC,tokenAddress:Z.QA,superTokenAddress:Z.V8,multi:1e6,key:"hasUsdcApprove"},{coin:L.sN.DAI,tokenAddress:Z.P0,superTokenAddress:Z.ho,multi:1e18,key:"hasDaiApprove"},{coin:L.sN.WETH,tokenAddress:Z.Yw,superTokenAddress:Z.gp,multi:1e18,key:"hasWethApprove"},{coin:L.sN.WBTC,tokenAddress:Z.ci,superTokenAddress:Z.kE,multi:1e8,key:"hasWbtcApprove"},{coin:L.sN.MATIC,tokenAddress:Z.gU,superTokenAddress:Z.s,multi:1e18,key:"hasMaticApprove"}],z=[{coin:L.sN.FUSDC,tokenAddress:W.E8,superTokenAddress:W.AG,multi:1e6,key:"hasFUsdcApprove"},{coin:L.sN.FDAI,tokenAddress:W.SQ,superTokenAddress:W.jT,multi:1e18,key:"hasFDaiApprove"}],Q=[{coin:L.sN.OPUSDC,tokenAddress:P.q4,superTokenAddress:P.NR,multi:1e6,key:"hasOpUsdcApprove"},{coin:L.sN.OPDAI,tokenAddress:P.r,superTokenAddress:P.bE,multi:1e18,key:"hasOpDaiApprove"},{coin:L.sN.OP,tokenAddress:P.Zx,superTokenAddress:P.oJ,multi:1e18,key:"hasOPApprove"}];var H=n(81689),V=n(7365);let K=[...Z.ow,...W.Jg,...P.L6];var $=n(2593);let q=$.O$.from(0),Y=$.O$.from(-1);function X(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{pad:!1,commify:!1},a=$.O$.from(e),s=a.lt(q),i=$.O$.from(10).pow($.O$.from(t));s&&(a=a.mul(Y));let l=a.mod(i).toString();for(;l.length<t;)l="0".concat(l);if(!n.pad){let r=l.match(/^([0-9]*[1-9]|0)(0*)/);r&&(l=r[1])}let o=a.div(i).toString();n.commify&&(o=o.replace(/\B(?=(\d{3})+(?!\d))/g,","));let c="".concat(o).concat("0"==l?"":".".concat(l));return s&&(c="-".concat(c)),c}let J=e=>{let t={},n=K.map(async t=>{try{let n=await (0,B.a4)({address:t,abi:V.e,functionName:"balanceOf",args:[e]});return{balance:n,tokenAddress:t}}catch(a){return}});return Promise.all(n).then(e=>(e.map(e=>{e&&(e.tokenAddress===Z.ci&&(t[e.tokenAddress]=X(e.balance,8)),(e.tokenAddress===Z.QA||e.tokenAddress===W.E8)&&(t[e.tokenAddress]=X(e.balance,6)),t[e.tokenAddress]=X(e.balance,18))}),t))},ee=(e,t)=>{let{address:n}=(0,B.D0)();return J(n).then(async a=>{let s=await (0,B.uN)({address:e,abi:B.em}),i=await (0,H.M1)(s,n,t),l=G.find(t=>t.tokenAddress===e),r=l?l.multi:1,o=parseFloat(i)>parseFloat(a&&a[e])*r;return o})},et=[{coin:L.sN.USDCx,tokenAddress:Z.V8},{coin:L.sN.DAIx,tokenAddress:Z.ho},{coin:L.sN.WETHx,tokenAddress:Z.gp},{coin:L.sN.WBTCx,tokenAddress:Z.kE},{coin:L.sN.MATICx,tokenAddress:Z.s},{coin:L.sN.StIbAlluoETH,tokenAddress:Z.EV},{coin:L.sN.StIbAlluoUSD,tokenAddress:Z.$v},{coin:L.sN.StIbAlluoBTC,tokenAddress:Z.HT}],en=[{coin:L.sN.FDAIx,tokenAddress:W.jT},{coin:L.sN.FUSDCx,tokenAddress:W.AG}],ea=[{coin:L.sN.OPUSDCx,tokenAddress:P.NR},{coin:L.sN.OPDAIx,tokenAddress:P.bE},{coin:L.sN.OPx,tokenAddress:P.oJ}];var es=n(61744),ei=n(30963);let el=e=>{let{action:t,type:n,form:a,icon:s,loading:i,primary:l,disabled:r,handleClick:o}=e;return(0,f.jsxs)("button",{type:n,form:a,disabled:r,className:A(l?"btn-rounded bg-primary-500 hover:bg-primary-300 disabled:bg-primary-200 disabled:text-slate-500 text-slate-800":"btn-rounded bg-slate-100 hover:bg-slate-300"),onClick:o,children:[i?"":s,i&&!s&&(0,f.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-slate-800",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,f.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,f.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,f.jsx)("span",{children:t})]})},er=e=>{let{action:t,type:n,disabled:a,handleClick:s}=e;return(0,f.jsx)("button",{type:n,className:"address-link",disabled:a,onClick:s,children:(0,f.jsx)("span",{children:t})})},eo=e=>{let{action:t,type:n,disabled:a,handleClick:s}=e;return(0,f.jsx)("button",{type:n,className:"btn-pill-outline",disabled:a,onClick:s,children:(0,f.jsx)("span",{children:t})})},ec=e=>{let{action:t,type:n,primary:a,disabled:s,loading:i,handleClick:l}=e;return(0,f.jsxs)("button",{type:n,disabled:s,className:A(a?"btn-pill-solid":"btn-pill-solid bg-slate-100 hover:bg-slate-300 disabled:bg-primary-200 disabled:text-slate-500"),onClick:l,children:[i&&(0,f.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-slate-800",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,f.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,f.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,f.jsx)("span",{children:t})]})};var eu=n(25675),ed=n.n(eu);let ep=e=>{let{classNames:t,value:n,coins:a,handleChange:s}=e;return(0,f.jsx)(M.R,{value:n,onChange:s,children:(0,f.jsxs)("div",{className:A(t||"relative w-full z-10"),children:[(0,f.jsxs)(M.R.Button,{className:"relative w-full cursor-default rounded-lg bg-slate-700 py-2 pl-3 pr-10 text-left text-slate-200 shadow-md focus:outline-none focus-visible:border-slate-500 focus-visible:ring-2 focus-visible:ring-slate-100 focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-300 sm:text-sm",children:[(0,f.jsxs)("div",{className:"flex items-center whitespace-nowrap space-x-2",children:[n!==L.sN.SELECT&&(0,f.jsx)("span",{children:(0,f.jsx)(ed(),{width:"22",height:"22",src:L.mk[n],alt:n})}),(0,f.jsx)("span",{className:"block truncate",children:n})]}),(0,f.jsx)("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:(0,f.jsx)(R.Z,{className:"h-5 w-5 text-slate-100","aria-hidden":"true"})})]}),(0,f.jsx)(b.u,{as:S.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,f.jsx)(M.R.Options,{className:"absolute mt-1 max-h-60 w-full overflow-auto rounded-md bg-slate-700 py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:a.map((e,t)=>(0,f.jsx)(M.R.Option,{className:e=>{let{active:t}=e;return"relative cursor-default select-none py-2 pl-10 pr-4 ".concat(t?"bg-slate-800 text-slate-200":"text-slate-200")},value:e,children:t=>{let{selected:n}=t;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"flex items-center whitespace-nowrap space-x-2",children:[e!==L.sN.SELECT&&(0,f.jsx)("span",{children:(0,f.jsx)(ed(),{width:"22",height:"22",src:L.mk[e],alt:e})}),(0,f.jsx)("span",{className:"block truncate ".concat(n?"font-medium":"font-normal"),children:e})]}),n?(0,f.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-green-600",children:(0,f.jsx)(O.Z,{className:"h-5 w-5","aria-hidden":"true"})}):null,n?(0,f.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-green-600",children:(0,f.jsx)(O.Z,{className:"h-5 w-5","aria-hidden":"true"})}):null]})}},t))})})]})})},em=["0.02%","0.03%","0.05%"],ey=[...L.ix,...L.Qo],ex=e=>{let{type:t,close:n,setClose:a,balanceList:s}=e,{t:i}=(0,F.$G)("home"),{address:l}=(0,E.mA)(),{chain:r}=(0,E.LN)(),[o,c]=(0,S.useContext)(N.wP),[d,p]=(0,S.useState)(!1),[m,y]=(0,S.useState)(),[x,h]=(0,S.useState)(),[g,T]=(0,S.useState)(L.sN.SELECT),[v,w]=(0,S.useState)(L.sN.SELECT),[A,j]=(0,S.useState)(L.sN.SELECT),[k,C]=(0,S.useState)(""),[I,D]=(0,S.useState)(!1),[_,Z]=(0,S.useState)(),[W,P]=(0,S.useState)(""),[H]=ei.Z.useLazyUpgradeQuery(),[V]=ei.Z.useLazyApproveQuery(),[K]=ei.Z.useLazyDowngradeQuery(),[$,q]=(0,S.useState)(),[Y,X]=(0,S.useState)(),[er,eo]=(0,S.useState)(),[ec,eu]=(0,S.useState)();(0,S.useEffect)(()=>{if(r){if(137===r.id){let e=et.map(e=>e.coin),t=G.map(e=>e.coin);q(e),X(t),eu(G),eo(et)}if(80001===r.id){let n=en.map(e=>e.coin),a=z.map(e=>e.coin);q(n),X(a),eu(z),eo(en)}if(10===r.id){let s=ea.map(e=>e.coin),i=Q.map(e=>e.coin);q(s),X(i),eu(Q),eo(ea)}}},[r]),(0,S.useEffect)(()=>{if(t===u.Withdraw&&g!==L.sN.SELECT){let e=null==er?void 0:er.find(e=>e.coin===g);h(e)}else if(t===u.Deposit&&g!==L.sN.SELECT){let n=null==ec?void 0:ec.find(e=>e.coin===g);ee(null==n?void 0:n.tokenAddress,null==n?void 0:n.superTokenAddress).then(e=>p(e)),y(n)}},[g]),(0,S.useEffect)(()=>{u.Deposit&&m&&(async()=>{let e=await (0,B.EG)({address:l,chainId:null==r?void 0:r.id,token:null==m?void 0:m.tokenAddress}).then(e=>null==e?void 0:e.formatted);P(e)})()},[m]);let ed=()=>{if(m){D(!0);let e=V({tokenAddress:null==m?void 0:m.tokenAddress,superTokenAddress:null==m?void 0:m.superTokenAddress});e.then(e=>{D(!1),ee(null==m?void 0:m.tokenAddress,null==m?void 0:m.superTokenAddress).then(e=>p(e))})}},ex=()=>{u.Withdraw&&s&&C(null==s?void 0:s[null==x?void 0:x.tokenAddress]),u.Deposit&&W&&C(W)},eh=e=>{null==e||e.preventDefault(),g!==L.sN.SELECT&&(c(U.Z.showLoadingAlert("Waiting for your transaction to be confirmed...","")),t===u.Withdraw?J(l).then(e=>{if(0>=Number(k)||Object.keys(e).length&&0===Number(e[null==x?void 0:x.tokenAddress]))return;let t=es.parseEther(k);D(!0);let n=K({value:t.toString(),tokenAddress:null==x?void 0:x.tokenAddress});n.then(e=>{e.isSuccess&&c(U.Z.showSuccessAlert("Success","Transaction confirmed \uD83D\uDC4C")),D(e.isLoading),e.isError&&c(U.Z.showErrorAlert("Error","".concat(null==e?void 0:e.error))),setTimeout(()=>{c(U.Z.hideAlert())},5e3)}).catch(e=>c(U.Z.showErrorAlert("Error","".concat(e||(null==e?void 0:e.message)))))}):t===u.Deposit&&J(l).then(e=>{if(!(0>Number(k))&&(!Object.keys(e).length||!m||0!==Number(e[m.tokenAddress]))&&d){let t=es.parseEther(k);D(!0);let n=H({value:t.toString(),tokenAddress:null==m?void 0:m.superTokenAddress});n.then(e=>{e.isSuccess&&c(U.Z.showSuccessAlert("Success","Transaction confirmed \uD83D\uDC4C")),D(e.isLoading),e.isError&&c(U.Z.showErrorAlert("Error","".concat(null==e?void 0:e.error))),setTimeout(()=>{c(U.Z.hideAlert())},5e3)}).catch(e=>c(U.Z.showErrorAlert("Error","".concat(e||(null==e?void 0:e.message)))))}}))};return(0,f.jsx)("div",{className:"flex flex-col items-start",children:(0,f.jsxs)("form",{onSubmit:eh,className:"flex flex-col items-start w-full space-y-6",children:[(t===u.Withdraw||t===u.Deposit)&&$&&Y&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("label",{className:"text-slate-100",children:[i("token-action")," ",i(t),"?"]}),(0,f.jsx)(ep,{value:g,coins:t===u.Withdraw?$:t===u.Deposit?Y:[],handleChange:T}),g!==L.sN.SELECT&&(0,f.jsxs)("p",{children:["Balance:"," ",u.Withdraw&&s&&x?parseFloat(null==s?void 0:s[null==x?void 0:x.tokenAddress]).toFixed(3):u.Deposit&&W&&m?parseFloat(W).toFixed(3):0," ",g]})]}),t===u.Swap&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("label",{className:"text-slate-100",children:[i(t===u.Swap?"tokens-action":"token-action")," ",i(t),"?"]}),(0,f.jsxs)("div",{className:"flex items-center space-x-2 w-full",children:[(0,f.jsxs)("span",{className:"text-slate-100",children:[i("from"),": "]}),(0,f.jsx)(ep,{classNames:"relative w-full z-30",value:v,coins:ey,handleChange:w})]}),(0,f.jsxs)("div",{className:"flex items-center space-x-2 w-full",children:[(0,f.jsxs)("span",{className:"text-slate-100",children:[i("to"),": "]}),(0,f.jsx)(ep,{classNames:"relative w-full z-20",value:A,coins:ey,handleChange:j})]})]}),(0,f.jsxs)("label",{className:"text-slate-100",children:[i("amount-action")," ",i(t),"?"]}),(0,f.jsxs)("div",{className:"relative w-full",children:[(0,f.jsx)("input",{type:"number",className:"input-outline",value:k,step:"any",onChange:e=>C(e.target.value),placeholder:t===u.Swap?"".concat(i(v!==L.sN.SELECT?"amount-in":"amount")," ").concat(v!==L.sN.SELECT?v:""):i("amount")}),(0,f.jsx)("button",{type:"button",className:"pr-8 text-primary-500 hover:text-primary-300 hover:font-bold absolute right-2.5 bottom-2.5 font-medium text-sm",onClick:ex,children:"Max"})]}),t===u.Swap&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("label",{className:"text-slate-100",children:[i("slippage-tolerance"),":"]}),(0,f.jsx)(M.R,{value:_,onChange:Z,children:(0,f.jsxs)("div",{className:"relative w-full z-10",children:[(0,f.jsxs)(M.R.Button,{className:"relative w-full cursor-default rounded-lg bg-slate-700 py-2 pl-3 pr-10 text-left text-slate-200 shadow-md focus:outline-none focus-visible:border-slate-500 focus-visible:ring-2 focus-visible:ring-slate-100 focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-300 sm:text-sm",children:[(0,f.jsx)("span",{className:"block truncate",children:_||"Select slippage tolerance"}),(0,f.jsx)("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:(0,f.jsx)(R.Z,{className:"h-5 w-5 text-slate-100","aria-hidden":"true"})})]}),(0,f.jsx)(b.u,{as:S.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,f.jsx)(M.R.Options,{className:"absolute mt-1 max-h-60 w-full overflow-auto rounded-md bg-slate-700 py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:em.map((e,t)=>(0,f.jsx)(M.R.Option,{className:e=>{let{active:t}=e;return"relative cursor-default select-none py-2 pl-10 pr-4 ".concat(t?"bg-slate-800 text-slate-200":"text-slate-200")},value:e,children:t=>{let{selected:n}=t;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("span",{className:"block truncate ".concat(n?"font-medium":"font-normal"),children:e}),n?(0,f.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-green-600",children:(0,f.jsx)(O.Z,{className:"h-5 w-5","aria-hidden":"true"})}):null]})}},t))})})]})}),(0,f.jsxs)("p",{className:"text-slate-100",children:[i("min-output-amt"),": ...",A!==L.sN.SELECT?A:""]})]}),(0,f.jsxs)("div",{className:"flex space-x-4 w-full justify-end",children:[(0,f.jsx)("button",{type:"button",className:"text-slate-100 underline",onClick:()=>a(!n),children:i("cancel")}),(t===u.Withdraw||t===u.Swap)&&(0,f.jsx)(el,{type:"submit",loading:I,disabled:I,action:I?"".concat(i("confirming"),"..."):"".concat(i("confirm")," ").concat(i(t))}),d&&t===u.Deposit&&(0,f.jsx)(el,{type:"submit",loading:I,disabled:I,action:I?"".concat(i("confirming"),"..."):"".concat(i("confirm")," ").concat(i(t))}),!d&&t===u.Deposit&&(0,f.jsx)(el,{type:"button",loading:I,action:I?"".concat(i("approving"),"..."):"".concat(i("approve")),disabled:g===L.sN.SELECT||I,handleClick:ed})]})]})})},eh=e=>{let{close:t,setClose:n,action:a,balanceList:s}=e,{t:i}=(0,F.$G)("home"),[l,r]=(0,S.useState)(0);return(0,S.useEffect)(()=>{r(a)},[a]),(0,f.jsxs)(_.O.Group,{selectedIndex:l,onChange:r,children:[(0,f.jsxs)(_.O.List,{className:"flex items-center justify-between border-b-2 border-primary-900 border-opacity-30 mb-8 mt-4",children:[(0,f.jsx)(_.O,{as:S.Fragment,children:e=>{let{selected:t}=e;return(0,f.jsx)("button",{className:t?"text-slate-100 border-b-2 border-primary-500":"text-slate-400 border-none",children:i("withdraw")})}}),(0,f.jsx)(_.O,{as:S.Fragment,children:e=>{let{selected:t}=e;return(0,f.jsx)("button",{className:t?"text-slate-100 border-b-2 border-primary-500":"text-slate-400 border-none",children:i("deposit")})}}),(0,f.jsx)("button",{className:"text-slate-400 hover:text-slate-100",onClick:()=>n(!t),children:(0,f.jsx)(w.Z,{className:"h-4 w-4"})})]}),(0,f.jsxs)(_.O.Panels,{children:[(0,f.jsx)(_.O.Panel,{children:(0,f.jsx)(ex,{type:u.Withdraw,close:t,setClose:n,balanceList:s})}),(0,f.jsx)(_.O.Panel,{children:(0,f.jsx)(ex,{type:u.Deposit,close:t,setClose:n,balanceList:s})}),(0,f.jsx)(_.O.Panel,{children:(0,f.jsx)(ex,{type:u.Swap,close:t,setClose:n,balanceList:s})})]})]})},ef=new Map([[P.NR,"usd-coin"],[P.bE,"dai"],[W.jT,"dai"],[W.AG,"usd-coin"],[Z.ho,"dai"],[Z.V8,"usd-coin"],[Z.gp,"weth"],[Z.kE,"wrapped-bitcoin"],[Z.s,"matic-network"],[Z.cZ,"richochet"],[Z.EV,"weth"],[Z.$v,"usd-coin"],[Z.HT,"wrapped-bitcoin"],[P.oJ,"optimism"]]);var eb=n(60179);let eg=()=>{let[e]=eb.Z.useLazyGetPricesQuery(),[t,n]=(0,S.useState)(new Map);return(0,S.useEffect)(()=>{let t=[...ef.values()],a=e(t.join(","));a.then(e=>{let t=[...ef.keys()],a=new Map;t.forEach(t=>{var n,s;let i=null==ef?void 0:ef.get(t),l=null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.filter(e=>e.id===i);void 0===l?(a.set(t,0),console.warn("Could not fetch price for token ",t)):a.set(t,null===(s=l[0])||void 0===s?void 0:s.current_price)}),n(a)})},[]),t};(s=d||(d={})).ETH="#B3FFFF",s.WBTC="#FF8D8F",s.RIC="#7B7EFF",s.USDC="#2775CA",s.StIbAlluoETH="#75E276",s.StIbAlluoUSD="#E9DF89",s.OP="#ff0000",s.OPx="#ff0000",s.DAI="#d5b608",s.OPDAI="#d5b608",s.OPDAIx="#d5b608";let eT={[L.sN.ETH]:d.ETH,[L.sN.WBTC]:d.WBTC,[L.sN.RIC]:d.RIC,[L.sN.USDC]:d.USDC,[L.sN.StIbAlluoUSD]:d.StIbAlluoUSD,[L.sN.StIbAlluoETH]:d.StIbAlluoETH,[L.sN.OP]:d.OP,[L.sN.OPx]:d.OPx,[L.sN.OPDAI]:d.OPDAI,[L.sN.DAI]:d.DAI},ev={USDC:"usd-coin",MATIC:"matic-network",ETH:"ethereum",BTC:"bitcoin",WBTC:"wrapped-bitcoin",DAI:"dai",RIC:"richochet",IbAlluoETH:"ethereum",IbAlluoBTC:"wrapped-bitcoin",IbAlluoUSD:"usd-coin",StIbAlluoETH:"ethereum",StIbAlluoBTC:"wrapped-bitcoin",StIbAlluoUSD:"usd-coin",FUSDC:"usd-coin",FDAI:"dai",OP:"optimism"},ew=e=>{let[t]=eb.Z.useLazyGetTokenHistoryQuery(),[n,a]=(0,S.useState)(new Map),s=(0,S.useRef)(!1);return(0,S.useEffect)(()=>{if(e.size>0){let n=new Map;for(let[i,l]of e)if(l[0]!==L.sN.SELECT&&l[1]!==L.sN.SELECT){let r=[ev[l[0]],ev[l[1]]],o=r.map(async e=>await t(e));Promise.all(o).then(e=>{e.map(e=>{e&&n.set(null==e?void 0:e.originalArgs,(null==e?void 0:e.data.prices)||"")})}).finally(()=>{a(n),s.current=!0})}}},[e]),(0,S.useEffect)(()=>{s.current&&(s.current=!1)},[s]),n},eA=e=>{let t=[],n=[];return e&&e.length&&(n=[...t=[...e].sort((e,t)=>+e[0]-+t[0])].sort((e,t)=>+e[1]-+t[1])),{tSort:t,priceSorted:n}};var ej=n(67421),eN=n(9253),ek=n(46888),eS=n(3023),eC=n(75358),eE=n(14888),eI=n(86108);let eD=e=>{let{pairs:t,position:n}=e,{t:a}=(0,ej.$G)("home"),s=ew(t),[i,l]=(0,S.useState)([]),[r,o]=(0,S.useState)([]),[c,u]=(0,S.useState)([]),[d,p]=(0,S.useState)(["0","0"]),m=e=>"auto"!==e?new Date(e).toLocaleDateString("en-us",{month:"short",day:"numeric"}):new Date().toLocaleDateString("en-us",{month:"short",day:"numeric"}),y=e=>j(e),x=e=>{let t=e.map(e=>e[0]);u(t)};return(0,S.useEffect)(()=>{if(s.size>0&&t.size>0)for(let[e,n]of t){if(n[0]===L.sN.USDC||n[0]===L.sN.IbAlluoUSD||n[0]===L.sN.StIbAlluoUSD||n[0]===L.sN.DAI){let{tSort:a,priceSorted:i}=eA(s.get(ev[n[1]]));i.length&&a.length&&(p([i[0][1]||"0",i[i.length-1][1]||"0"]),l(a))}if(n[1]===L.sN.USDC||n[1]===L.sN.IbAlluoUSD||n[1]===L.sN.StIbAlluoUSD||n[1]===L.sN.DAI){let{tSort:r,priceSorted:o}=eA(s.get(ev[n[0]]));o.length&&r.length&&(p([o[0][1]||"0",o[o.length-1][1]||"0"]),l(r))}}},[s,t]),(0,S.useEffect)(()=>{i&&i.length&&x(i)},[i]),(0,S.useEffect)(()=>{if(i&&i.length&&c.length){let e=[];c.map((t,n)=>{e.push({name:t,price:i[n][1]})}),o(e)}},[c,i]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"h-52 min-h-full w-52 min-w-full",children:(0,f.jsx)(eN.h,{height:"100%",width:"100%",children:(0,f.jsxs)(ek.T,{margin:{top:0,right:10,left:40,bottom:20},data:r,children:[(0,f.jsx)(eS.K,{dataKey:"name",tickFormatter:e=>m(e),interval:"preserveEnd",tickMargin:5,minTickGap:10}),(0,f.jsx)(eC.B,{dataKey:"y",tickMargin:5,orientation:"left",tickFormatter:e=>y(e),interval:"preserveEnd",domain:[d[0],d[1]]}),(0,f.jsx)(eE.u,{}),(0,f.jsx)(eI.u,{type:"monotone",dataKey:"price",stroke:"#81a8ce",fill:"#81a8ce"})]})})}),n&&(0,f.jsxs)("p",{className:"text-slate-100 my-2 pl-14",children:[(0,f.jsxs)("span",{className:"text-slate-400",children:[a("average-buy-price"),":"]})," 1 ",n.coinB," ="," ",((+d[0]+ +d[1])/2).toFixed(3)," ",n.coinA]})]})};var e_=n(73604),eF=n(46208),eM=n(43815);let eR=e=>{let{tokens:t,geckoPriceList:n,balances:a}=e,{t:s}=(0,F.$G)("home"),[i,l]=(0,S.useState)(0),[r,o]=(0,S.useState)([]),[c,u]=(0,S.useState)([]),{chain:d}=(0,E.LN)();return(0,S.useEffect)(()=>{d&&((null==d?void 0:d.id)===80001&&u(z),(null==d?void 0:d.id)===137&&u(G),(null==d?void 0:d.id)===10&&u(Q))},[d]),(0,S.useEffect)(()=>{let e=[];t.filter(e=>!!e.color).map(t=>{e.push({name:t.token,color:t.color,value:parseFloat(t.ricAmount)})}),o(e)},[t]),(0,S.useEffect)(()=>{let e=c.reduce((e,t)=>{let s=Object.keys(a).length&&Object.keys(n).length&&Object.keys(ev).length&&(parseFloat(a[t.superTokenAddress])*parseFloat(n[ev[t.coin]].usd)).toFixed(6);return e+parseFloat(s)},0);l(e)},[t,a,n,ev]),(0,f.jsx)("div",{className:"h-52 w-52",children:(0,f.jsx)(eN.h,{height:"100%",width:"100%",children:(0,f.jsxs)(e_.u,{children:[(0,f.jsx)("text",{fill:"#81a8ce",x:100,y:80,textAnchor:"middle",dominantBaseline:"middle",children:s("total")}),i&&(0,f.jsx)("text",{fill:"white",x:100,y:110,fontWeight:600,textAnchor:"middle",dominantBaseline:"middle",children:j(i)}),(0,f.jsx)(eF.b,{data:r,innerRadius:80,outerRadius:100,fill:"#81a8ce",paddingAngle:0,nameKey:"name",dataKey:"value",children:r.map(e=>(0,f.jsx)(eM.b,{fill:e.color},"cell-".concat(e.name)))})]})})})};var eO=n(45485),eU=n(44414);let eB=e=>{let{contentPerPage:t=0,count:n=0}=e,[a,s]=(0,S.useState)(1),[i,l]=(0,S.useState)({before:!1,paginationGroup:[],after:!0}),r=Math.ceil(n/t),o=a*t,[c,u]=(0,S.useState)([]);(0,S.useEffect)(()=>{if(r>2){let e=Array(r-2).fill(1).map((e,t)=>t+2);u(e)}},[r]),(0,S.useEffect)(()=>{let e=c.indexOf(a),t=[],n=!1,s=!1;t=1===a?c.slice(0,3):a===r||a===r-1||a===r-2?c.slice(-3,r):2===a?c.slice(e,e+3):[a-1,a,a+1],r<=5?(n=!1,s=!1):(n=!1,s=!1,t[0]>2&&(n=!0),t[2]<r-1&&(s=!0)),l({paginationGroup:t,before:n,after:s})},[a,c,r]);let d=e=>{s(t=>e?t===r?t:t+1:1===t?t:t-1)},p=e=>{e>r?s(r):e<1?s(1):s(e)};return{totalPages:r,nextPage:()=>d(!0),prevPage:()=>d(!1),setPage:p,firstContentIndex:o-t,lastContentIndex:o,page:a,gaps:i}};var eL=n(84009);(i=p||(p={})).Position="Position",i.Market="Market",i.Balances="Balances",i.ViewPosition="View Position";let eZ=e=>{let{coinA:t,coinB:n,token:a,type:s}=e;return(s===p.Market||s===p.Position)&&t&&n?(0,f.jsxs)("div",{className:"flex flex-wrap items-center justify-between lg:space-x-2",children:[(0,f.jsxs)("span",{className:"flex items-center space-x-2",children:[(0,f.jsx)(ed(),{width:"24",height:"24",src:L.mk[t],alt:t})," ",(0,f.jsx)("span",{className:"text-sm",children:t})]}),(0,f.jsx)(eL.Z,{className:"h-5 w-5"}),(0,f.jsxs)("span",{className:"flex items-center space-x-2",children:[(0,f.jsx)(ed(),{width:"24",height:"24",src:L.mk[n],alt:n})," ",(0,f.jsx)("span",{className:"text-sm",children:n})]})]}):s===p.Balances&&a?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(ed(),{width:"24",height:"24",src:L.mk[a],alt:a}),(0,f.jsx)("span",{className:A(a===L.sN.ETH?"bg-eth text-slate-800 px-1 py-0":a===L.sN.WBTC?"bg-btc text-slate-800 px-1 py-0":a===L.sN.RIC?"bg-ric text-slate-200 px-1 py-0":a===L.sN.USDC?"bg-usdc text-slate-200 px-1 py-0":a===L.sN.StIbAlluoETH?"bg-stIbAlluoEth text-slate-800 px-1 py-0":a===L.sN.StIbAlluoUSD?"bg-stIbAlluoUsd text-slate-800 px-1 py-0":"bg-transparent","text-sm"),children:a})]}):s===p.ViewPosition&&t&&n?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("span",{className:"flex items-center space-x-2",children:[(0,f.jsx)(ed(),{width:"40",height:"40",src:L.mk[t],alt:t})," ",(0,f.jsx)("span",{className:"font-medium text-slate-100",children:t})]}),(0,f.jsx)(eL.Z,{className:"h-10 w-16"}),(0,f.jsxs)("span",{className:"flex items-center space-x-2",children:[(0,f.jsx)(ed(),{width:"30",height:"30",src:L.mk[n],alt:n})," ",(0,f.jsx)("span",{className:"font-medium text-slate-100",children:n})]})]}):(0,f.jsx)(f.Fragment,{})},eW=e=>{let{headers:t,rowNumber:n}=e,a=[],s=[];for(let i=0;i<t.length;i++)s.push((0,f.jsx)("td",{className:"h-4 bg-slate-700"},i));for(let l=0;l<n;l++)a.push((0,f.jsx)("tr",{className:"animate-pulse",children:s},l));return(0,f.jsxs)("table",{className:"border-separate border-spacing-2 min-w-full",children:[(0,f.jsx)("thead",{children:(0,f.jsx)("tr",{children:t.map((e,t)=>(0,f.jsx)("th",{scope:"col",className:"font-normal text-slate-400 px-6 py-4 text-start",children:e},t))})}),(0,f.jsx)("tbody",{children:a})]})},eP=[{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"contract ISuperfluid",name:"_host",type:"address"},{internalType:"contract IConstantFlowAgreementV1",name:"_cfa",type:"address"},{internalType:"contract IInstantDistributionAgreementV1",name:"_ida",type:"address"},{internalType:"string",name:"_registrationKey",type:"string"},{internalType:"contract IREXReferral",name:"_rexReferral",type:"address"},{internalType:"address payable",name:"_ops",type:"address"},{internalType:"address",name:"_taskCreator",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"totalAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"feeCollected",type:"uint256"},{indexed:!1,internalType:"address",name:"token",type:"address"}],name:"Distribution",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"rate",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"RecordTokenPrice",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"shareholder",type:"address"},{indexed:!1,internalType:"address",name:"affiliate",type:"address"},{indexed:!1,internalType:"int96",name:"previousFlowRate",type:"int96"},{indexed:!1,internalType:"int96",name:"currentFlowRate",type:"int96"},{indexed:!1,internalType:"contract ISuperToken",name:"token",type:"address"}],name:"ShareholderShareUpdate",type:"event"},{inputs:[],name:"BUFFER_DELAY",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"BUFFER_SIZE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"INTERVAL",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_COUNT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract ISuperToken",name:"_token",type:"address"},{internalType:"uint128",name:"_feeRate",type:"uint128"},{internalType:"uint256",name:"_emissionRate",type:"uint256"}],name:"addOutputPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"affiliateFee",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract ISuperToken",name:"_superToken",type:"address"},{internalType:"address",name:"_agreementClass",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes",name:"_agreementData",type:"bytes"},{internalType:"bytes",name:"",type:"bytes"},{internalType:"bytes",name:"_ctx",type:"bytes"}],name:"afterAgreementCreated",outputs:[{internalType:"bytes",name:"_newCtx",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract ISuperToken",name:"_superToken",type:"address"},{internalType:"address",name:"_agreementClass",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes",name:"_agreementData",type:"bytes"},{internalType:"bytes",name:"_cbdata",type:"bytes"},{internalType:"bytes",name:"_ctx",type:"bytes"}],name:"afterAgreementTerminated",outputs:[{internalType:"bytes",name:"_newCtx",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract ISuperToken",name:"_superToken",type:"address"},{internalType:"address",name:"_agreementClass",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes",name:"_agreementData",type:"bytes"},{internalType:"bytes",name:"_cbdata",type:"bytes"},{internalType:"bytes",name:"_ctx",type:"bytes"}],name:"afterAgreementUpdated",outputs:[{internalType:"bytes",name:"_newCtx",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract ISuperToken",name:"_superToken",type:"address"},{internalType:"address",name:"_agreementClass",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes",name:"_agreementData",type:"bytes"},{internalType:"bytes",name:"_ctx",type:"bytes"}],name:"beforeAgreementCreated",outputs:[{internalType:"bytes",name:"_cbdata",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract ISuperToken",name:"_superToken",type:"address"},{internalType:"address",name:"_agreementClass",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes",name:"_agreementData",type:"bytes"},{internalType:"bytes",name:"_ctx",type:"bytes"}],name:"beforeAgreementTerminated",outputs:[{internalType:"bytes",name:"_cbdata",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract ISuperToken",name:"_superToken",type:"address"},{internalType:"address",name:"_agreementClass",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes",name:"_agreementData",type:"bytes"},{internalType:"bytes",name:"_ctx",type:"bytes"}],name:"beforeAgreementUpdated",outputs:[{internalType:"bytes",name:"_cbdata",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"streamer",type:"address"},{internalType:"contract ISuperToken",name:"token",type:"address"}],name:"closeStream",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"count",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"createTask",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"dedicatedMsgSender",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"ctx",type:"bytes"},{internalType:"bool",name:"ignoreGasReimbursement",type:"bool"}],name:"distribute",outputs:[{internalType:"bytes",name:"newCtx",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"streamer",type:"address"},{internalType:"contract ISuperToken",name:"token",type:"address"}],name:"emergencyCloseStream",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract ISuperToken",name:"token",type:"address"}],name:"emergencyDrain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"feeRate",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"fundsOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"gelatoFeeShare",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"_index",type:"uint32"},{internalType:"address",name:"_streamer",type:"address"}],name:"getIDAShares",outputs:[{internalType:"bool",name:"_exist",type:"bool"},{internalType:"bool",name:"_approved",type:"bool"},{internalType:"uint128",name:"_units",type:"uint128"},{internalType:"uint256",name:"_pendingDistribution",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLastDistributionAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTwap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IWMATIC",name:"_wmatic",type:"address"},{internalType:"contract ISuperToken",name:"_maticx",type:"address"}],name:"initializeMATIC",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract ISuperToken",name:"_inputToken",type:"address"},{internalType:"contract ISuperToken",name:"_outputToken",type:"address"},{internalType:"contract ISuperToken",name:"_subsidyToken",type:"address"},{internalType:"uint128",name:"_shareScaler",type:"uint128"},{internalType:"uint128",name:"_feeRate",type:"uint128"},{internalType:"uint256",name:"_initialTokenExchangeRate",type:"uint256"},{internalType:"uint256",name:"_rateTolerance",type:"uint256"}],name:"initializeMarket",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract ISwapRouter02",name:"_uniswapRouter",type:"address"},{internalType:"contract IUniswapV3Factory",name:"_uniswapFactory",type:"address"},{internalType:"address[]",name:"_uniswapPath",type:"address[]"},{internalType:"uint24",name:"_poolFee",type:"uint24"}],name:"initializeUniswap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"inputToken",outputs:[{internalType:"contract ISuperToken",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"lastDistributedAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"lastExecuted",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maticx",outputs:[{internalType:"contract ISuperToken",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"numOutputPools",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"ops",outputs:[{internalType:"contract IOps",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract ISuperToken",name:"",type:"address"}],name:"outputPoolIndicies",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"",type:"uint32"}],name:"outputPools",outputs:[{internalType:"contract ISuperToken",name:"token",type:"address"},{internalType:"uint128",name:"feeRate",type:"uint128"},{internalType:"uint256",name:"emissionRate",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"outputToken",outputs:[{internalType:"contract ISuperToken",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"rateTolerance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint32",name:"_index",type:"uint32"},{internalType:"uint128",name:"_emissionRate",type:"uint128"}],name:"setEmissionRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"shareScaler",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"subsidyToken",outputs:[{internalType:"contract ISuperToken",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"taskId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"taskTreasury",outputs:[{internalType:"contract ITaskTreasuryUpgradable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"tokenExchangeRateIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenExchangeRates",outputs:[{internalType:"uint256",name:"rate",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"underlyingInputToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"underlyingOutputToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"address",name:"_token",type:"address"}],name:"withdrawFunds",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"wmatic",outputs:[{internalType:"contract IWMATIC",name:"",type:"address"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],eG=["0x86c2B55bf5d3E9DAC2747389B38D41C6B1F34179","0x56aCA122d439365B455cECb14B4A39A9d1B54621","0xbB5C64B929b1E60c085dcDf88dfe41c6b9dcf65B","0xE53dd10d49C8072d68d48c163d9e1A219bd6852D"],ez=async e=>{if(!e.flowKey.includes("IbAlluo"))try{return await (0,B.a4)({address:e.superToken,abi:eP,functionName:"outputPools",args:[0]})}catch(t){console.log("error",t);return}},eQ=e=>{let[t,n]=(0,S.useState)(""),[a,s]=(0,S.useState)();return(0,S.useEffect)(()=>{s(e.data);let t=async()=>{if(eG.includes(e.data.superToken)){n("0.5%");return}let t=await ez(e.data);n("".concat(1e18*+es.formatEther(null==t?void 0:t.feeRate)/1e4,"%"))};t()},[e]),(0,f.jsx)(f.Fragment,{children:a?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("td",{className:"px-2 py-4 whitespace-nowrap",children:(0,f.jsx)("div",{className:"inline-flex items-center gap-2",children:(0,f.jsx)(eZ,{coinA:a.coinA,coinB:a.coinB,type:p.Market})})}),(0,f.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:t}),(0,f.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,f.jsx)("p",{children:j(parseFloat(a.usdValue))}),(0,f.jsxs)("p",{className:"text-slate-400",children:[a.total," ",(0,f.jsxs)("span",{className:"text-sm",children:[a.coinA,"x"]})]})]}),(0,f.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:a.streams})]}):"loading..."})},eH=e=>!!e.positions||0===e.positions,eV=e=>!!e.streams||0===e.streams,eK=e=>!!e.token,e$=e=>{let{headers:t,rowData:n,selectable:a,selectData:s,tableLoaderRows:i}=e,{t:l}=(0,F.$G)("home"),{firstContentIndex:r,lastContentIndex:o,nextPage:c,prevPage:u,page:d,gaps:m,setPage:y,totalPages:x}=eB({contentPerPage:6,count:n.length});return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"overflow-auto",children:[0===n.length&&(0,f.jsx)(eW,{headers:t,rowNumber:i}),n.length>0&&(0,f.jsxs)("table",{className:"table-fixed min-w-full",children:[(0,f.jsx)("thead",{children:(0,f.jsx)("tr",{children:t.map((e,t)=>(0,f.jsx)("th",{scope:"col",className:"font-normal text-slate-400 px-6 py-4 text-start",children:l("".concat(e.toLocaleLowerCase().replace(/\s/g,"-")))},t))})}),(0,f.jsx)("tbody",{children:n.slice(r,o).map((e,t)=>{var n,i;return(0,f.jsx)("tr",{className:A(a?"cursor-pointer":"cursor-auto","text-slate-200 border-b border-slate-600"),onClick:()=>a&&eH(e)?null==s?void 0:s(e):null,children:eH(e)?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("td",{className:"px-2 py-4 whitespace-nowrap",children:(0,f.jsx)("div",{className:"inline-flex items-center gap-2",children:(0,f.jsx)(eZ,{coinA:e.coinA,coinB:e.coinB,type:p.Position})})}),(0,f.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,f.jsx)("p",{children:j(parseFloat(e.rateUsdValue))}),(0,f.jsxs)("p",{className:"text-slate-400",children:[parseFloat(e.output).toFixed(3)," ",(0,f.jsxs)("span",{className:"text-sm",children:[e.coinA,"x"]})]})]}),(0,f.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,f.jsx)("p",{children:j(parseFloat(e.input.toFixed(3)))}),(0,f.jsxs)("p",{className:"text-slate-400",children:[e.input.toFixed(3)," ",(0,f.jsxs)("span",{className:"text-sm",children:[e.coinA,"x"]})]})]})]}):eV(e)?(0,f.jsx)(eQ,{data:e}):eK(e)?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("td",{className:"flex items-center px-2 py-4 whitespace-nowrap space-x-2",children:(0,f.jsx)(eZ,{token:e.token,type:p.Balances})}),(0,f.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,f.jsx)("p",{children:e.token===L.sN.WBTC||e.token===L.sN.IbAlluoBTC||e.token===L.sN.StIbAlluoBTC||e.token===L.sN.ETH||e.token===L.sN.IbAlluoETH||e.token===L.sN.StIbAlluoETH?null===(n=parseFloat(e.ricAmount).toFixed(20).match(/^-?\d*\.?0*\d{0,2}/))||void 0===n?void 0:n[0].replace(/(?:\.0+|(\.\d+?)0+)$/,"$1"):parseFloat(e.ricAmount).toFixed(2)}),(0,f.jsx)("p",{className:"text-slate-400",children:j(parseFloat(e.ricUsdAmount))})]}),(0,f.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,f.jsx)("p",{children:"N/A"===e.walletAmount?e.walletAmount:e.token===L.sN.WBTC||e.token===L.sN.IbAlluoBTC||e.token===L.sN.StIbAlluoBTC||e.token===L.sN.ETH||e.token===L.sN.IbAlluoETH||e.token===L.sN.StIbAlluoETH?null===(i=parseFloat(e.walletAmount).toFixed(20).match(/^-?\d*\.?0*\d{0,2}/))||void 0===i?void 0:i[0].replace(/(?:\.0+|(\.\d+?)0+)$/,"$1"):parseFloat(e.walletAmount).toFixed(2)}),(0,f.jsx)("p",{className:"text-slate-400",children:"N/A"===e.walletUsdAmount?e.walletUsdAmount:j(parseFloat(e.walletUsdAmount))})]})]}):(0,f.jsx)(f.Fragment,{})},t)})})]})]}),n.length>0&&(0,f.jsxs)("div",{className:"flex justify-end text-slate-500 space-x-2 mt-4",children:[(0,f.jsx)("button",{onClick:u,className:"".concat(1!==d&&"hover:text-slate-300"," ").concat(1===d&&"text-slate-600"),disabled:1===d,children:(0,f.jsx)(eO.Z,{className:"h-4 w-4"})}),(0,f.jsx)("button",{onClick:()=>y(1),className:"".concat(1===d&&"text-slate-100"),children:"1"}),m.before?"...":"",m.paginationGroup.map(e=>(0,f.jsx)("button",{onClick:()=>y(e),className:"".concat(d===e?"text-slate-100":""),children:e},e)),m.after?"...":"",x>1&&(0,f.jsx)("button",{onClick:()=>y(x),className:"".concat(d===x&&"text-slate-100"),children:x}),(0,f.jsx)("button",{onClick:c,className:"".concat(d!==x&&"hover:text-slate-300"," ").concat(d===x&&"text-slate-600"),disabled:d===x,children:(0,f.jsx)(eU.Z,{className:"h-4 w-4"})})]})]})},eq=["token","ricochet-balance","wallet-balance"],eY=e=>{let{tokens:t,balances:n}=e,{t:a}=(0,F.$G)("home"),{address:s,isConnected:i}=(0,E.mA)(),{chain:l}=(0,E.LN)(),[r,o]=(0,S.useState)(0),[c,u]=(0,S.useState)(!0),d=eg(),[p,m]=(0,S.useState)(),[y,x]=(0,S.useState)({}),[h,b]=(0,S.useState)([]);return(0,S.useEffect)(()=>{m([]),l&&((null==l?void 0:l.id)===80001&&m(z),(null==l?void 0:l.id)===137&&m(G),(null==l?void 0:l.id)===10&&m(Q))},[null==l?void 0:l.id,n]),(0,S.useEffect)(()=>{i&&(null==l?void 0:l.id)&&(t&&x(t),(async()=>{Object.keys(y).length&&Object.keys(n).length&&await Promise.all(p.map(async e=>{if(!s)return;let t=await (0,B.EG)({address:s,chainId:l.id,token:e.coin!==L.sN.RIC&&e.coin!==L.sN.OpRIC?e.tokenAddress:void 0});return{token:e.coin,ricAmount:n[e.superTokenAddress],ricUsdAmount:(parseFloat(n[e.superTokenAddress])*d.get(e.superTokenAddress)).toFixed(2),walletAmount:e.coin===L.sN.RIC?"N/A":null==t?void 0:t.formatted,walletUsdAmount:e.coin===L.sN.RIC?"N/A":(parseFloat(null==t?void 0:t.formatted)*d.get(e.superTokenAddress)).toFixed(2),color:eT[e.coin]}})).then(e=>{let t=e.sort((e,t)=>parseFloat(t.ricAmount)-parseFloat(e.ricAmount));t.length>0&&b(t)})})())},[i,t,n,y,p]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("p",{className:"font-light uppercase tracking-widest text-primary-500",children:a("your-balances")}),!c&&n&&(0,f.jsx)(eh,{close:c,setClose:u,action:r,balanceList:n}),c&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"flex flex-wrap items-center justify-evenly basis-1/3 my-4",children:[(0,f.jsx)(eo,{type:"button",action:"".concat(a("withdraw")),handleClick:()=>{u(!1),o(0)}}),(0,f.jsx)(ec,{type:"button",action:"".concat(a("deposit")),primary:!0,handleClick:()=>{u(!1),o(1)}})]}),(0,f.jsx)("div",{className:"flex justify-center my-4",children:(0,f.jsx)(eR,{tokens:h,geckoPriceList:y,balances:n})}),h&&(0,f.jsx)(e$,{headers:eq,rowData:h,tableLoaderRows:6})]})]})};var eX={src:"/_next/static/media/launchpad-bg.d3b0fdae.jpg",height:2722,width:4096,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAUACAMBIgACEQEDEQH/xAAnAAEBAAAAAAAAAAAAAAAAAAAABwEBAAAAAAAAAAAAAAAAAAAABP/aAAwDAQACEAMQAAAAnQQv/8QAGxABAAEFAQAAAAAAAAAAAAAAAQIAAwQREiH/2gAIAQEAAT8AhcI4sjgV83X/xAAaEQEAAQUAAAAAAAAAAAAAAAACAQADERIx/9oACAECAQE/ALjS1zPDFf/EABYRAAMAAAAAAAAAAAAAAAAAAAABIf/aAAgBAwEBPwBQ/9k=",blurWidth:8,blurHeight:5};let eJ=e=>{let{content:t}=e;return(0,f.jsx)("div",{className:"card",children:t})},e0=e=>{let{content:t}=e;return(0,f.jsx)("div",{className:"card-outline text-center",children:t})},e2=e=>{let{content:t}=e;return(0,f.jsxs)("div",{className:"card text-center relative",children:[(0,f.jsx)("div",{className:"z-10",children:t}),(0,f.jsx)(ed(),{src:eX,className:"object-cover object-bottom absolute inset-0 z-0 rounded-lg",draggable:"false",fill:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",alt:"Launchpad Background",priority:!0}),(0,f.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-700 via-slate-800 to-slate-900 z-0 opacity-60 rounded-lg"})]})},e1=e=>{let{content:t}=e;return(0,f.jsx)("div",{className:"card-container",children:t})},e5=e=>{let{content:t}=e;return(0,f.jsx)("div",{className:"flex flex-wrap items-center justify-between space-y-4 md:space-y-0 mb-10",children:t})},e3=e=>{let{content:t}=e;return(0,f.jsxs)("div",{className:"card-sm",children:[!t&&(0,f.jsx)("div",{className:"animate-pulse",children:(0,f.jsxs)("div",{className:"grid grid-rows-2 gap-2",children:[(0,f.jsx)("div",{className:"h-5 bg-slate-700 rounded"}),(0,f.jsx)("div",{className:"h-6 bg-slate-700 rounded"})]})}),!!t&&t]})},e6=e=>(0,f.jsxs)("svg",{viewBox:"0 0 50 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,f.jsx)("path",{d:"M37.918 0h-23.78c0-.043 5.913 4.585 5.913 4.585L0 12.083l20.266 7.669-5.87 4.756 23.522-.343A12.068 12.068 0 0 0 50 12.083C50 5.399 43.359-.043 37.918 0Zm0 21.508c-5.227 0-9.426-4.241-9.426-9.425 0-5.185 4.241-9.426 9.426-9.426 5.184 0 9.426 4.241 9.426 9.426 0 5.184-4.242 9.425-9.426 9.425Z",fill:"#fff"}),(0,f.jsx)("path",{d:"M35.947 18.038h-2.185v-6.684s2.185.129 2.185 1.414v5.27ZM33.89 4.842h5.313c1.5 0 4.242.514 4.242 4.113s-3.514 3.813-3.514 3.813l3.342 5.27h-2.185l-2.87-4.542v-2.142s3.17.471 3.17-2.485-2.185-2.185-2.185-2.185l-4.113-.129s-1.114-.3-1.114-1.67l-.086-.043Z",fill:"#fff"})]}),e4=()=>{let{t:e}=(0,F.$G)("footer");return(0,f.jsxs)("div",{className:"flex flex-wrap items-start justify-between bg-footer-500 p-16",children:[(0,f.jsxs)("h6",{className:"flex space-x-2 mb-10 md:mb-0",children:[(0,f.jsx)(e6,{width:"50",height:"25"}),(0,f.jsx)("span",{className:"text-slate-100 font-semibold tracking-wide",children:"Ricochet"})]}),(0,f.jsxs)("section",{className:"flex flex-wrap items-center space-x-8 md:space-x-14 lg:space-x-32",children:[(0,f.jsxs)("article",{className:"flex flex-col space-y-4",children:[(0,f.jsx)("h6",{className:"text-slate-600 font-bold",children:e("support")}),(0,f.jsx)("a",{href:"https://discord.gg/ptqCBnJ9dr",target:"_blank",rel:"noopener noreferrer",className:"text-primary-400 underline",children:e("discord")}),(0,f.jsx)("a",{href:"https://docs.ricochet.exchange/tutorial/using-the-dapp",target:"_blank",rel:"noopener noreferrer",className:"text-primary-400 underline",children:e("tutorials")}),(0,f.jsx)("a",{href:"https://docs.ricochet.exchange/",target:"_blank",rel:"noopener noreferrer",className:"text-primary-400 underline",children:e("documentation")})]}),(0,f.jsxs)("article",{className:"flex flex-col space-y-4",children:[(0,f.jsx)("h6",{className:"text-slate-600 font-bold",children:e("explore")}),(0,f.jsx)("a",{href:"https://medium.com/ricochet-exchange",target:"_blank",rel:"noopener noreferrer",className:"text-primary-400 underline",children:e("medium")}),(0,f.jsx)("a",{href:"https://github.com/Ricochet-Exchange/",target:"_blank",rel:"noopener noreferrer",className:"text-primary-400 underline",children:e("github")}),(0,f.jsx)("a",{href:"https://twitter.com/ricochetxchange",target:"_blank",rel:"noopener noreferrer",className:"text-primary-400 underline",children:e("twitter")})]})]})]})};var e8=n(62367),e7=n(13012),e9=n(56466);let te=()=>{let{t:e}=(0,F.$G)("home"),[t,n]=(0,S.useContext)(N.wP),{isConnected:a}=(0,E.mA)(),{chain:s}=(0,E.LN)(),[i,l]=(0,S.useState)(!1),[r,o]=(0,S.useState)(e9.YK[0]),[c,u]=(0,S.useState)(1e3),[d]=ei.Z.useLazyStartStreamQuery(),p=()=>{let e="https://app.uniswap.org/#/swap?theme=dark&inputCurrency=".concat(Z.QA,"&outputCurrency=").concat(Z.cZ,"&exactAmount=100000&exactField=output");window.open(e,"_blank")};(0,S.useEffect)(()=>{s&&(80001===s.id&&o(e9.nh[0]),10===s.id&&o(e9.kO[0]))},[s]);let m=()=>{if(!r||!c){n(U.Z.showErrorAlert("Oops!","We were unable to find the selected position. Please try another one.")),setTimeout(()=>{n(U.Z.hideAlert())},5e3);return}if(l(!0),n(U.Z.showLoadingAlert("Waiting for your transaction to be confirmed...","")),!c)return;let e="20";if((null==r?void 0:r.type)===e9.Z6.launchpad){let t=new e7.Z(e),a=t.div(2592e3).times(1e18).div(c).round(0,0).times(c).div(1e18).times(259200).div(3600).div(24).div(30).times(10);e=a.toFixed()}let s=d({amount:e,config:r});s.then(e=>{e.isSuccess&&n(U.Z.showSuccessAlert("Success","Transaction confirmed \uD83D\uDC4C")),l(e.isLoading),e.isError&&n(U.Z.showErrorAlert("Error","".concat(null==e?void 0:e.error))),setTimeout(()=>{n(U.Z.hideAlert())},5e3)}).catch(e=>n(U.Z.showErrorAlert("Error","".concat(e||(null==e?void 0:e.message)))))};return(0,f.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,f.jsxs)("div",{className:"flex items-center justify-center text-slate-100 space-x-3",children:[(0,f.jsx)(e8.Z,{className:"h-6 w-6"}),(0,f.jsx)("p",{className:"uppercase tracking-widest",children:"Rexpro"})]}),(0,f.jsx)("p",{className:"text-slate-100",children:e("start-a-position")}),a&&(0,f.jsx)(ec,{type:"button",primary:!0,loading:i,disabled:i,action:i?"".concat(e("confirming"),"..."):e("start-20-position"),handleClick:m}),(0,f.jsx)(ec,{type:"button",primary:!1,action:"".concat(e("buy")," 100,000 RIC"),handleClick:p})]})};var tt=n(89396);let tn=function(e,t,n){var a;let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return(n.size>0&&t.size>0?parseFloat(null===(a=t.get(e.flowKey))||void 0===a?void 0:a.flowsOwned)*n.get(e.tokenA):0).toFixed(s)},ta=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(parseFloat(e)*t).toFixed(n)},ts=["market","fee percent","total value streaming","currently streaming"],ti=e=>{let{coingeckoPrices:t,sortedList:n,queries:a}=e,{t:s}=(0,F.$G)("home"),[i,l]=(0,S.useState)(""),[r,o]=(0,S.useState)([]),[c,u]=(0,S.useState)([]),{chain:d}=(0,E.LN)();(0,S.useEffect)(()=>{let e=async()=>{if(n.length>0&&a.size>0){let e=[];n.map(async n=>{var s,i;e.push({...n,total:parseFloat(null===(s=a.get(n.flowKey))||void 0===s?void 0:s.flowsOwned)||0,usdValue:tn(n,a,t),feePercent:"0.5%",streams:(null===(i=a.get(n.flowKey))||void 0===i?void 0:i.totalFlows)||0});let l=e.sort((e,t)=>t.total-e.total);o(l)})}};e()},[a,t,n]);let p=e=>{let{value:t}=e.target;l(t);let n=r.filter(e=>e.coinA.toUpperCase().includes(t.toUpperCase())||e.coinB.toUpperCase().includes(t.toUpperCase()));u(n)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(e5,{content:(0,f.jsxs)("div",{className:"w-full flex flex-wrap items-center justify-between space-y-4 lg:space-y-0",children:[(0,f.jsx)("p",{className:"text-slate-400 uppercase",children:s("markets")}),(0,f.jsxs)("label",{className:"relative block w-max",children:[(0,f.jsx)("span",{className:"sr-only",children:"Search"}),(0,f.jsx)("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:(0,f.jsx)(tt.Z,{className:"h-4 w-4 fill-slate-400",viewBox:"0 0 20 20"})}),(0,f.jsx)("input",{className:"input-search",placeholder:s("search"),type:"text",name:"search",value:i,onChange:p})]})]})}),d&&(0,f.jsx)(e$,{headers:ts,rowData:i?c:r,tableLoaderRows:12})]})};var tl=n(6512),tr=n(44149),to=n(82847),tc=n(47145);let tu=e=>(0,f.jsxs)("svg",{viewBox:"0 0 66 33",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,f.jsx)("path",{d:"M50.051 0H18.663c0-.056 7.805 6.052 7.805 6.052L0 15.949l26.75 10.123-7.747 6.278 31.048-.452C58.874 31.898 66 24.772 66 15.949S57.234-.056 50.051 0Zm0 28.391c-6.9 0-12.442-5.599-12.442-12.442s5.6-12.442 12.442-12.442c6.844 0 12.443 5.599 12.443 12.442s-5.6 12.442-12.443 12.442Z",fill:"url(#a)"}),(0,f.jsx)("path",{d:"M47.45 23.81h-2.885v-8.822s2.885.17 2.885 1.866v6.956ZM44.735 6.391h7.013c1.98 0 5.599.679 5.599 5.43 0 4.75-4.638 5.033-4.638 5.033l4.412 6.956h-2.885l-3.789-5.995v-2.828s4.185.623 4.185-3.28c0-3.902-2.884-2.884-2.884-2.884l-5.43-.17s-1.47-.396-1.47-2.205l-.113-.057Z",fill:"#C5C2C6"}),(0,f.jsx)("defs",{children:(0,f.jsxs)("linearGradient",{id:"a",x1:0,y1:16.175,x2:66,y2:16.175,gradientUnits:"userSpaceOnUse",children:[(0,f.jsx)("stop",{stopColor:"#6194C3"}),(0,f.jsx)("stop",{offset:1,stopColor:"#B5CBE2"})]})})]});var td=n(11163),tp=n.n(td),tm=n(91463),ty=n.n(tm),tx=n(41664),th=n.n(tx),tf=n(23857);let tb=e=>{let{locale:t,...n}=e,a=(0,td.useRouter)(),s=n.href||a.asPath,i=a.pathname;return Object.keys(a.query).forEach(e=>{if("locale"===e){i=i.replace("[".concat(e,"]"),t);return}i=i.replace("[".concat(e,"]"),a.query[e])}),t&&(s=n.href?"/".concat(t).concat(n.href):i),(0,f.jsx)(th(),{className:"text-sm text-slate-200",href:s,onClick:()=>{var e;return null===(e=tf.Z.cache)||void 0===e?void 0:e.call(tf.Z,t)},children:t})},tg=e=>{let{children:t,skipLocaleHandling:n,...a}=e,s=(0,td.useRouter)(),i=a.locale||s.query.locale||"",l=a.href||s.asPath;return 0===l.indexOf("http")&&(n=!0),i&&!n&&(l=l?"/".concat(i).concat(l):s.pathname.replace("[locale]",i)),(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(th(),{href:l,...a,children:t})})};function tT(){let{disconnect:e}=(0,E.qL)(),{address:t,isConnected:n}=(0,E.mA)(),{data:a,isError:s,isLoading:i}=(0,E.KQ)({address:t,chainId:I.yu.id,token:Z.cZ}),{t:l}=(0,F.$G)("home"),r=tp().query.locale||ty().i18n.defaultLocale;return(0,f.jsx)(tl.p,{as:"nav",className:"navbar",children:t=>{let{open:o}=t;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(tg,{href:"/",className:"p-2 mr-4 inline-flex items-center space-x-2",draggable:!1,children:[(0,f.jsx)(tu,{width:"50",height:"25"}),(0,f.jsx)("span",{className:"text-xl tracking-wide",children:"Ricochet"})]}),(0,f.jsx)("p",{className:"inline-flex items-center space-x-2",children:ty().i18n.locales.map(e=>e===r?null:(0,f.jsx)(tb,{locale:e},e))}),(0,f.jsxs)(tl.p.Button,{className:"btn-mobile-menu",children:[(0,f.jsx)("span",{className:"sr-only",children:"Open main menu"}),o?(0,f.jsx)(w.Z,{className:"h-6 w-6","aria-hidden":"true"}):(0,f.jsx)(tr.Z,{className:"h-6 w-6","aria-hidden":"true"})]}),(0,f.jsx)(tl.p.Panel,{className:"w-full lg:inline-flex lg:flex-grow lg:w-auto",children:(0,f.jsxs)("div",{className:"mobile-links",children:[(0,f.jsxs)("a",{className:"inline-flex items-center space-x-1 text-primary-500",href:"https://discord.com/channels/862796510604296263/864667072357597185",target:"_blank",rel:"noopener noreferrer",children:[(0,f.jsx)("span",{className:"underline",children:"support"}),(0,f.jsx)(to.Z,{className:"h-4 w-4"})]}),i&&(0,f.jsx)("p",{children:"Fetching balance..."}),s&&(0,f.jsx)(f.Fragment,{}),!i&&!s&&n&&(0,f.jsxs)("p",{children:[Number(null==a?void 0:a.formatted).toFixed(2)," ",null==a?void 0:a.symbol]}),(0,f.jsx)(tc.x3.Custom,{children:e=>{let{isConnected:t,show:n,unsupported:a,truncatedAddress:s,ensName:i}=e;return(0,f.jsx)(f.Fragment,{children:t?a?(0,f.jsx)(el,{action:"".concat(l("wrong-network")),handleClick:n,type:"button"}):(0,f.jsx)("button",{type:"button",className:"address-link",children:null!=i?i:s}):(0,f.jsx)(el,{action:"".concat(l("connect-wallet")),handleClick:n,type:"button"})})}}),n&&(0,f.jsxs)("div",{className:"mt-3 space-y-1 px-2",children:[(0,f.jsx)(tl.p.Button,{as:"a",href:"https://staging.ricochet.exchange/#/recent-activity",rel:"noreferrer",target:"_blank",className:"block rounded-md px-3 py-2 text-base font-medium text-slate-400 hover:bg-slate-700 hover:text-slate-100 cursor-pointer",children:l("your-activity")}),(0,f.jsx)(tl.p.Button,{as:"a",onClick:()=>e(),className:"block rounded-md px-3 py-2 text-base font-medium text-slate-400 hover:bg-slate-700 hover:text-slate-100 cursor-pointer",children:l("disconnect-wallet")})]})]})}),(0,f.jsxs)("div",{className:"desktop-links",children:[(0,f.jsxs)("a",{className:"inline-flex items-center space-x-1 text-primary-500",href:"https://discord.com/channels/862796510604296263/864667072357597185",target:"_blank",rel:"noopener noreferrer",children:[(0,f.jsx)("span",{className:"underline",children:l("support")}),(0,f.jsx)(to.Z,{className:"h-4 w-4"})]}),i&&(0,f.jsx)("p",{children:"Fetching balance..."}),s&&(0,f.jsx)(f.Fragment,{}),!i&&!s&&n&&(0,f.jsxs)("p",{children:[Number(null==a?void 0:a.formatted).toFixed(2)," ",null==a?void 0:a.symbol]}),(0,f.jsx)(tc.x3.Custom,{children:e=>{let{isConnected:t,show:n,unsupported:a,truncatedAddress:s,ensName:i}=e;return(0,f.jsx)(f.Fragment,{children:t?a?(0,f.jsx)(el,{action:"".concat(l("wrong-network")),handleClick:n,type:"button"}):(0,f.jsx)(er,{action:null!=i?i:s,handleClick:n,type:"button"}):(0,f.jsx)(el,{action:"".concat(l("connect-wallet")),handleClick:n,type:"button"})})}})]})]})}})}let tv=[{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"contract ISuperfluid",name:"_host",type:"address"},{internalType:"contract IConstantFlowAgreementV1",name:"_cfa",type:"address"},{internalType:"contract IInstantDistributionAgreementV1",name:"_ida",type:"address"},{internalType:"string",name:"_registrationKey",type:"string"},{internalType:"contract IREXReferral",name:"_rexReferral",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"totalAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"feeCollected",type:"uint256"},{indexed:!1,internalType:"address",name:"token",type:"address"}],name:"Distribution",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"contract ISuperToken",name:"_token",type:"address"},{internalType:"uint128",name:"_feeRate",type:"uint128"},{internalType:"uint256",name:"_emissionRate",type:"uint256"},{internalType:"uint256",name:"_requestId",type:"uint256"},{internalType:"uint128",name:"_shareScaler",type:"uint128"}],name:"addOutputPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract ISuperToken",name:"_superToken",type:"address"},{internalType:"address",name:"_agreementClass",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes",name:"_agreementData",type:"bytes"},{internalType:"bytes",name:"",type:"bytes"},{internalType:"bytes",name:"_ctx",type:"bytes"}],name:"afterAgreementCreated",outputs:[{internalType:"bytes",name:"_newCtx",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract ISuperToken",name:"_superToken",type:"address"},{internalType:"address",name:"_agreementClass",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes",name:"_agreementData",type:"bytes"},{internalType:"bytes",name:"_cbdata",type:"bytes"},{internalType:"bytes",name:"_ctx",type:"bytes"}],name:"afterAgreementTerminated",outputs:[{internalType:"bytes",name:"_newCtx",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract ISuperToken",name:"_superToken",type:"address"},{internalType:"address",name:"_agreementClass",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes",name:"_agreementData",type:"bytes"},{internalType:"bytes",name:"_cbdata",type:"bytes"},{internalType:"bytes",name:"_ctx",type:"bytes"}],name:"afterAgreementUpdated",outputs:[{internalType:"bytes",name:"_newCtx",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract ISuperToken",name:"_superToken",type:"address"},{internalType:"address",name:"_agreementClass",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes",name:"_agreementData",type:"bytes"},{internalType:"bytes",name:"",type:"bytes"}],name:"beforeAgreementCreated",outputs:[{internalType:"bytes",name:"_cbdata",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract ISuperToken",name:"_superToken",type:"address"},{internalType:"address",name:"_agreementClass",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes",name:"_agreementData",type:"bytes"},{internalType:"bytes",name:"",type:"bytes"}],name:"beforeAgreementTerminated",outputs:[{internalType:"bytes",name:"_cbdata",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract ISuperToken",name:"_superToken",type:"address"},{internalType:"address",name:"_agreementClass",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes",name:"_agreementData",type:"bytes"},{internalType:"bytes",name:"_ctx",type:"bytes"}],name:"beforeAgreementUpdated",outputs:[{internalType:"bytes",name:"_cbdata",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"ctx",type:"bytes"}],name:"distribute",outputs:[{internalType:"bytes",name:"newCtx",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"streamer",type:"address"}],name:"emergencyCloseStream",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"emergencyDrain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_requestId",type:"uint256"}],name:"getCurrentValue",outputs:[{internalType:"bool",name:"_ifRetrieve",type:"bool"},{internalType:"uint256",name:"_value",type:"uint256"},{internalType:"uint256",name:"_timestampRetrieved",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"_index",type:"uint32"}],name:"getEmissionRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"_index",type:"uint32"}],name:"getFeeRate",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"_index",type:"uint32"},{internalType:"address",name:"_streamer",type:"address"}],name:"getIDAShares",outputs:[{internalType:"bool",name:"_exist",type:"bool"},{internalType:"bool",name:"_approved",type:"bool"},{internalType:"uint128",name:"_units",type:"uint128"},{internalType:"uint256",name:"_pendingDistribution",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getInputToken",outputs:[{internalType:"contract ISuperToken",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLastDistributionAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract ISuperToken",name:"token",type:"address"}],name:"getOracleInfo",outputs:[{components:[{internalType:"uint256",name:"requestId",type:"uint256"},{internalType:"uint256",name:"usdPrice",type:"uint256"},{internalType:"uint256",name:"lastUpdatedAt",type:"uint256"}],internalType:"struct REXMarket.OracleInfo",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"_index",type:"uint32"}],name:"getOutputPool",outputs:[{components:[{internalType:"contract ISuperToken",name:"token",type:"address"},{internalType:"uint128",name:"feeRate",type:"uint128"},{internalType:"uint256",name:"emissionRate",type:"uint256"},{internalType:"uint128",name:"shareScaler",type:"uint128"}],internalType:"struct REXMarket.OutputPool",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRateTolerance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_streamer",type:"address"},{internalType:"contract ISuperToken",name:"_token",type:"address"}],name:"getStreamRate",outputs:[{internalType:"int96",name:"_requesterFlowRate",type:"int96"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTellorOracle",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTotalInflow",outputs:[{internalType:"int96",name:"",type:"int96"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract ISuperToken",name:"_inputToken",type:"address"},{internalType:"uint256",name:"_rateTolerance",type:"uint256"},{internalType:"contract ITellor",name:"_tellor",type:"address"},{internalType:"uint256",name:"_inputTokenRequestId",type:"uint256"},{internalType:"uint128",name:"_affiliateFee",type:"uint128"},{internalType:"uint128",name:"_feeRate",type:"uint128"}],name:"initializeMarket",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_emissionRate",type:"uint256"}],name:"initializeSubsidies",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract ISuperToken",name:"_inputTokenA",type:"address"},{internalType:"uint256",name:"_inputTokenARequestId",type:"uint256"},{internalType:"uint128",name:"_inputTokenAShareScaler",type:"uint128"},{internalType:"contract ISuperToken",name:"_inputTokenB",type:"address"},{internalType:"uint256",name:"_inputTokenBRequestId",type:"uint256"},{internalType:"uint128",name:"_inputTokenBShareScaler",type:"uint128"},{internalType:"uint128",name:"_feeRate",type:"uint128"},{internalType:"uint256",name:"_rateTolerance",type:"uint256"}],name:"initializeTwoWayMarket",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isAppJailed",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"ric",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"_index",type:"uint32"},{internalType:"uint128",name:"_emissionRate",type:"uint128"}],name:"setEmissionRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint32",name:"_index",type:"uint32"},{internalType:"uint128",name:"_feeRate",type:"uint128"}],name:"setFeeRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_rate",type:"uint256"}],name:"setRateTolerance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract ISuperToken",name:"_token",type:"address"}],name:"updateTokenPrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"updateTokenPrices",outputs:[],stateMutability:"nonpayable",type:"function"}],tw=e=>Z.zV[e],tA=async(e,t,n,a)=>{if("twoWayIbUsdIbBTC"===e||"twoWayIbEthIbUsd"===e||"twoWayIbBTCIbUsd"===e||"twoWayIbUsdIbEth"===e){let{outputIndex:s}=e9.zJ.filter(e=>e.input===t&&e.output===n)[0],i=await (0,B.a4)({address:tw(e),abi:tv,functionName:"getOutputPool",args:[s]}),l=(null==i?void 0:i.shareScaler)*1e3;return l}return 1e4};(l=m||(m={})).USDCxDAI="usdcxdai",l.DAIxUSDC="daixusdc",l.USDCxETH="usdcxeth",l.ETHxUSDC="ethxusdc",l.DAIxETH="daixeth",l.ETHxDAI="ethxdai",l.USDCxWBTC="usdcxwbtc",l.WBTCxUSDC="wbtcxusdc",l.DAIxWBTC="daixwbtc",l.WBTCxDAI="wbtcxdai",l.USDCxMATIC="usdcxmatic",l.MATICxUSDC="maticxusdc",l.MATICxDAI="maticxdai",l.DAIxMATIC="daixmatic",l.USDC_WBTC="twoWayusdcWbtc",l.USDC_WETH="twoWayusdcWeth",l.WBTC_USDC="twoWaywbtcUsdc",l.WETH_USDC="twoWaywethUsdc",l.DAI_WETH="twoWayDaiWeth",l.WETH_DAI="twoWayWethDai",l.TWO_WAY_USDC_RIC="twoWayUsdcRic",l.TWO_WAY_RIC_USDC="twoWayRicUsdc",l.TWO_WAY_MATIC_USDC="twoWayMaticUsdc",l.TWO_WAY_USDC_MATIC="twoWayUsdcMatic",l.TWO_WAY_MATIC_DAI="twoWayMaticDai",l.TWO_WAY_DAI_MATIC="twoWayDaiMatic",l.TWO_WAY_WBTC_DAI="twoWayWbtcDai",l.TWO_WAY_DAI_WBTC="twoWayDaiWbtc",l.TWO_WAY_IBUSD_IBETH="twoWayIbUsdIbEth",l.TWO_WAY_IBETH_IBUSD="twoWayIbEthIbUsd",l.TWO_WAY_IBUSD_IBBTC="twoWayIbUsdIbBTC",l.TWO_WAY_IBBTC_IBUSD="twoWayIbBTCIbUsd",l.MATICx="maticx",l.DAIx="daix",l.DAI="dai",l.USDCx="usdcx",l.USDC="usdc",l.WETHx="wethx",l.WETH="weth",l.WBTCx="wbtcx",l.WBTC="wbtc",l.HOST="host",l.IDA="ida",l.RICapp="ricApp",l.RIC="ric",l.fUSDCxfDAI="fUSDCxfDAI",l.fDAIxfUSDC="fDAIxfUSDC",l.ricRexShirt="ricRexShirt",l.ricRexHat="ricRexHat",l.StIbAlluoUSD="stiballuousd",l.StIbAlluoETH="stiballuoeth",l.StIbAlluoBTC="stiballuobtc",l.IbAlluoUSD="iballuousd",l.IbAlluoETH="iballuoeth",l.IbAlluoBTC="iballuobtc",l.Referral="referral",(r=y||(y={})).optimismLaunchpad="optimismLaunchpad",r.optimismReferral="optimismReferral",r.opUSDCxopDAI="opusdcxopdai",r.opDAIxopUSDC="opdaixopusdc",r.OPxUSDC="opxusdc",r.USDCxOP="usdcxop",r.DAIxOP="daixop",r.OPxDAI="opxdai",r.opUSDCxopETH="opusdcxopeth",r.opDAIxopETH="opdaixopeth",(o=x||(x={})).none="",o.change="change",o.deposit="deposit";let tj=e=>{let{setClose:t,position:n}=e,{t:a}=(0,F.$G)("home"),{address:s}=(0,E.mA)(),{chain:i}=(0,E.LN)(),[l,r]=(0,S.useState)(),[o,c]=(0,S.useState)(x.none),[u,d]=(0,S.useState)(""),[p,y]=(0,S.useState)(""),[h,b]=(0,S.useContext)(N.wP),[g]=ei.Z.useLazyStartStreamQuery(),[T]=ei.Z.useLazyStopStreamQuery(),[v,w]=(0,S.useState)(""),[A]=ei.Z.useLazyUpgradeQuery(),[j,k]=(0,S.useState)(!1),[C,D]=(0,S.useState)(!1),[_,M]=(0,S.useState)(1e3);(0,S.useEffect)(()=>{var e;if(!n)return;let t=(null==n?void 0:n.flowKey.includes("FlowQuery"))?null==n?void 0:null===(e=n.flowKey)||void 0===e?void 0:e.replace("FlowQuery",""):Object(m)[null==n?void 0:n.flowKey],a=async(e,t,n)=>{let a=await tA(e,t,n,null==i?void 0:i.id).then(e=>e);M(a)};a(t,null==n?void 0:n.tokenA,null==n?void 0:n.tokenB)},[null==n?void 0:n.flowKey,null==n?void 0:n.tokenA,null==n?void 0:n.tokenB]),(0,S.useEffect)(()=>{if(n){let e=G.find(e=>e.coin===n.coinA);ee(null==e?void 0:e.tokenAddress,null==e?void 0:e.superTokenAddress).then(e=>D(e)),r(e)}},[n]),(0,S.useEffect)(()=>{o===x.deposit&&l&&(async()=>{let e=await (0,B.EG)({address:s,chainId:I.yu.id,token:null==l?void 0:l.tokenAddress}).then(e=>null==e?void 0:e.formatted);w(e)})()},[o,l]);let R=()=>{o===x.deposit&&v&&d(v)},O=e=>{null==e||e.preventDefault(),o===x.deposit&&J(s).then(e=>{if(!(0>Number(u))&&(!Object.keys(e).length||!l||0!==Number(e[l.tokenAddress]))&&C){let t=$.O$.from(u).toString();k(!0);let n=A({value:t,tokenAddress:null==l?void 0:l.superTokenAddress});n.then(e=>{e.isSuccess&&b(U.Z.showSuccessAlert("Success","Transaction confirmed \uD83D\uDC4C")),k(e.isLoading),e.isError&&b(U.Z.showErrorAlert("Error","".concat(null==e?void 0:e.error))),setTimeout(()=>{b(U.Z.hideAlert())},5e3)}).catch(e=>b(U.Z.showErrorAlert("Error","".concat(e||(null==e?void 0:e.message)))))}})},L=e=>{if(e.preventDefault(),n&&o===x.change){if(k(!0),b(U.Z.showLoadingAlert("Waiting for your transaction to be confirmed...","")),!n||!_){b(U.Z.showErrorAlert("Oops!","We were unable to find the selected position. Please try another one.")),setTimeout(()=>{b(U.Z.hideAlert())},5e3);return}let t=u;if((null==n?void 0:n.type)===e9.Z6.market){let a=new e7.Z(u),s=a.div(2592e3).times(1e18).div(_).round(0,0).times(_).div(1e18).times(259200).div(3600).div(24).div(30).times(10);t=s.toFixed()}let i={superToken:n.superToken,tokenA:n.tokenA,tokenB:n.tokenB,coinA:n.coinA,coinB:n.coinB,flowKey:n.flowKey,type:n.type},l=g({amount:t,config:i});l.then(e=>{e.isSuccess&&b(U.Z.showSuccessAlert("Success","Transaction confirmed \uD83D\uDC4C")),k(e.isLoading),e.isError&&b(U.Z.showErrorAlert("Error","".concat(null==e?void 0:e.error))),setTimeout(()=>{b(U.Z.hideAlert())},5e3)}).catch(e=>b(U.Z.showErrorAlert("Error","".concat(e||(null==e?void 0:e.message)))))}else b(U.Z.showErrorAlert("Oops!","We were unable to find the selected position. Please try another one.")),setTimeout(()=>{b(U.Z.hideAlert())},5e3)},Z=()=>{k(!0),b(U.Z.showLoadingAlert("Waiting for your transaction to be confirmed...",""));let e=T(n);e.then(e=>{e.isSuccess&&b(U.Z.showSuccessAlert("Success","Transaction confirmed \uD83D\uDC4C")),k(e.isLoading),e.isError&&(console.log("response",e),b(U.Z.showErrorAlert("Error","".concat(null==e?void 0:e.error)))),setTimeout(()=>{b(U.Z.hideAlert())},5e3)}).catch(e=>{console.log({error:e}),b(U.Z.showErrorAlert("Error","".concat(e||(null==e?void 0:e.message))))})};return(0,f.jsxs)("div",{className:"flex flex-col space-y-4",children:[!o&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("h6",{className:"text-slate-100",children:[a("position-action"),"?"]}),(0,f.jsx)(eo,{action:"".concat(a("change-swap-amount")),type:"button",handleClick:()=>c(x.change)}),(0,f.jsx)(eo,{action:"".concat(a("deposit")," ").concat(n.coinA),type:"button",handleClick:()=>c(x.deposit)}),(0,f.jsx)(el,{action:j?"".concat(a("stopping"),"..."):"".concat(a("stop-position")),type:"button",loading:j,disabled:j,handleClick:Z}),(0,f.jsx)("hr",{className:"border-slate-500"}),(0,f.jsx)("div",{className:"flex justify-end",children:(0,f.jsx)("button",{type:"button",className:"outline-none text-slate-100 underline",onClick:()=>t(!1),children:a("cancel")})})]}),o===x.deposit&&(0,f.jsxs)("form",{id:"change-swap-form",className:"flex flex-col space-y-6",onSubmit:O,children:[(0,f.jsxs)("label",{className:"text-slate-100",children:[a("amount-action")," ",a("deposit"),"?"]}),(0,f.jsxs)("div",{className:"relative w-full",children:[(0,f.jsx)("input",{type:"number",step:"any",className:"input-outline",value:u,onChange:e=>y(e.target.value),placeholder:"".concat(a("amount"))}),(0,f.jsx)("button",{type:"button",className:"pr-8 text-primary-500 hover:text-primary-300 hover:font-bold absolute right-2.5 bottom-2.5 font-medium text-sm",onClick:R,children:"Max"})]}),o===x.deposit&&(0,f.jsxs)("p",{children:["Balance: ",v&&l?parseFloat(v).toFixed(3):0," ",n.coinA]}),(0,f.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,f.jsx)("button",{type:"button",className:"outline-none text-slate-100 underline",onClick:()=>c(x.none),children:a("cancel")}),(0,f.jsx)(el,{type:"submit",action:j?"".concat(a("confirming"),"..."):"".concat(a("confirm")," ").concat(a("deposit")),primary:!0,loading:j,disabled:!u||j})]})]}),o===x.change&&(0,f.jsxs)("form",{id:"change-swap-form",className:"flex flex-col space-y-6",onSubmit:L,children:[(0,f.jsxs)("label",{className:"text-slate-100",children:[a("desired-swap-amount"),"?"]}),(0,f.jsx)("input",{type:"number",step:"any",className:"input-outline",value:u,onChange:e=>d(e.target.value),placeholder:"".concat(a("swap-amount"))}),(0,f.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,f.jsx)("button",{type:"button",className:"outline-none text-slate-100 underline",onClick:()=>c(x.none),children:a("cancel")}),(0,f.jsx)(el,{type:"submit",action:j?"".concat(a("confirming"),"..."):"".concat(a("confirm-change")),primary:!0,loading:j,disabled:!u||j})]})]})]})},tN=e=>{let t=new Map;return e.length&&e.map(e=>t.set(e.flowKey,[e.coinA,e.coinB])),t},tk=e=>{let{close:t,setClose:n}=e,a=["continuous"],{t:s}=(0,F.$G)("home"),{chain:i}=(0,E.LN)(),[l]=(0,S.useState)((0,e9.st)((null==i?void 0:i.id)||137)),[r,o]=(0,S.useState)(l.map(e=>e.coinA).filter((e,t,n)=>n.indexOf(e)===t)),[c,u]=(0,S.useState)(l.map(e=>e.coinB).filter((e,t,n)=>n.indexOf(e)===t)),[d,p]=(0,S.useState)(),[y,x]=(0,S.useState)(new Map),[h,g]=(0,S.useState)(L.sN.SELECT),[T,v]=(0,S.useState)(L.sN.SELECT),[w,A]=(0,S.useState)("0"),[j,k]=(0,S.useContext)(N.wP),[C,I]=(0,S.useState)(!1),[D,_]=(0,S.useState)(1e3),[B]=ei.Z.useLazyStartStreamQuery(),[Z,W]=(0,S.useState)(a[0]);(0,S.useEffect)(()=>{var e;if(!d)return;let t=(null==d?void 0:d.flowKey.includes("FlowQuery"))?null==d?void 0:null===(e=d.flowKey)||void 0===e?void 0:e.replace("FlowQuery",""):Object(m)[null==d?void 0:d.flowKey],n=async(e,t,n,a)=>{let s=await tA(e,t,n,a).then(e=>e);_(s)};n(t,null==d?void 0:d.tokenA,null==d?void 0:d.tokenB,(null==i?void 0:i.id)||137)},[null==d?void 0:d.flowKey,null==d?void 0:d.tokenA,null==d?void 0:d.tokenB]),(0,S.useEffect)(()=>{if(h!==L.sN.SELECT){let e=l.filter(e=>e.coinA===h).map(e=>e.coinB).filter((e,t,n)=>n.indexOf(e)===t);u([L.sN.SELECT,...e])}else{let t=l.map(e=>e.coinB).filter((e,t,n)=>n.indexOf(e)===t);u([L.sN.SELECT,...t])}},[h]),(0,S.useEffect)(()=>{if(T!==L.sN.SELECT){let e=l.filter(e=>e.coinB===T).map(e=>e.coinA).filter((e,t,n)=>n.indexOf(e)===t);o([L.sN.SELECT,...e])}else{let t=l.map(e=>e.coinB).filter((e,t,n)=>n.indexOf(e)===t);o([L.sN.SELECT,...t])}},[T]),(0,S.useEffect)(()=>{if(h!==L.sN.SELECT&&T!==L.sN.SELECT){let e=l.find(e=>e.coinA===h&&e.coinB===T);p(e)}},[h,T]),(0,S.useEffect)(()=>{if(d){let e=tN([d]);x(e)}},[d]);let P=e=>{if(e.preventDefault(),h===L.sN.SELECT||T===L.sN.SELECT)return;if(!d||!D){k(U.Z.showErrorAlert("Oops!","We were unable to find the selected position. Please try another one.")),setTimeout(()=>{k(U.Z.hideAlert())},5e3);return}if(I(!0),k(U.Z.showLoadingAlert("Waiting for your transaction to be confirmed...","")),!D)return;let t=w;if((null==d?void 0:d.type)===e9.Z6.market){let n=new e7.Z(w),a=n.div(2592e3).times(1e18).div(D).round(0,0).times(D).div(1e18).times(259200).div(3600).div(24).div(30).times(10);t=a.toFixed()}let s=B({amount:t,config:d});s.then(e=>{e.isSuccess&&k(U.Z.showSuccessAlert("Success","Transaction confirmed \uD83D\uDC4C")),I(e.isLoading),e.isError&&k(U.Z.showErrorAlert("Error","".concat(null==e?void 0:e.error))),setTimeout(()=>{k(U.Z.hideAlert())},5e3)}).catch(e=>k(U.Z.showErrorAlert("Error","".concat(e||(null==e?void 0:e.message)))))};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("p",{className:"text-primary-500 uppercase",children:s("your-streams")}),(0,f.jsxs)("div",{className:"flex flex-wrap items-center justify-between space-y-8 lg:space-y-0 mt-4",children:[(0,f.jsxs)("form",{id:"new-position-form",className:"flex flex-col items-start lg:p-8 w-full lg:w-1/2 space-y-6",onSubmit:P,children:[(0,f.jsxs)("label",{className:"text-slate-100",children:[s("position-token"),"?"]}),(0,f.jsxs)("div",{className:"flex flex-wrap lg:flex-nowrap items-center lg:space-x-4 w-full lg:w-auto",children:[(0,f.jsx)(ep,{classNames:"relative w-full z-20",value:h,coins:r,handleChange:g}),(0,f.jsx)(eL.Z,{className:"h-10 w-16"}),(0,f.jsx)(ep,{classNames:"relative w-full z-20",value:T,coins:c,handleChange:v})]}),(0,f.jsxs)("label",{className:"text-slate-100",children:[s("position-amount"),"?"]}),(0,f.jsx)("input",{type:"number",step:"any",className:"input-outline",value:w,onChange:e=>A(e.target.value),placeholder:"".concat(s("amount"))}),(0,f.jsxs)("label",{className:"text-slate-100",children:[s("position-select"),":"]}),(0,f.jsx)(M.R,{value:Z,onChange:W,children:(0,f.jsxs)("div",{className:"relative w-full z-10",children:[(0,f.jsxs)(M.R.Button,{className:"relative w-full cursor-default rounded-lg bg-slate-700 py-2 pl-3 pr-10 text-left text-slate-200 shadow-md focus:outline-none focus-visible:border-slate-500 focus-visible:ring-2 focus-visible:ring-slate-100 focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-300 sm:text-sm",children:[(0,f.jsx)("span",{className:"block truncate",children:s("".concat(Z.toLocaleLowerCase().replace(/\s/g,"-")))}),(0,f.jsx)("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:(0,f.jsx)(R.Z,{className:"h-5 w-5 text-slate-100","aria-hidden":"true"})})]}),(0,f.jsx)(b.u,{as:S.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,f.jsx)(M.R.Options,{className:"absolute mt-1 max-h-60 w-full overflow-auto rounded-md bg-slate-700 py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:a.map((e,t)=>(0,f.jsx)(M.R.Option,{className:e=>{let{active:t}=e;return"relative cursor-default select-none py-2 pl-10 pr-4 ".concat(t?"bg-slate-800 text-slate-200":"text-slate-200")},value:e,children:t=>{let{selected:n}=t;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("span",{className:"block truncate ".concat(n?"font-medium":"font-normal"),children:s("".concat(e.toLocaleLowerCase().replace(/\s/g,"-")))}),n?(0,f.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-green-600",children:(0,f.jsx)(O.Z,{className:"h-5 w-5","aria-hidden":"true"})}):null,n?(0,f.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-green-600",children:(0,f.jsx)(O.Z,{className:"h-5 w-5","aria-hidden":"true"})}):null]})}},t))})})]})})]}),(0,f.jsx)("div",{className:"w-full lg:w-1/2",children:(0,f.jsx)(eD,{pairs:y})}),(0,f.jsxs)("div",{className:"flex space-x-4 w-full justify-end",children:[(0,f.jsx)("button",{type:"button",className:"text-slate-100 underline",onClick:()=>n(!t),children:s("cancel")}),(0,f.jsx)(el,{type:"submit",form:"new-position-form",loading:C,disabled:C,action:C?"".concat(s("processing"),"..."):"".concat(s("start-new-position"))})]})]})]})};var tS=n(56457);let tC=e=>{let[t,n]=(0,S.useState)(new Map),a=(0,S.useRef)(!1);return(0,S.useEffect)(()=>{if(e.length&&!a.current){let t=tN(e);n(t),a.current=!0}},[e]),(0,S.useEffect)(()=>{a.current&&(a.current=!1)},[]),t};var tE=n(48068);let tI=e=>{let{setClose:t,position:n}=e,{t:a}=(0,F.$G)("home"),[s,i]=(0,S.useState)(!1),[l,r]=(0,S.useState)(0),o=tC([n]),{data:c,isLoading:u,isSuccess:d,isError:m,error:y}=eb.Z.useGetTokenPriceQuery(ev[n.coinB]);return(0,S.useEffect)(()=>{if(c&&d){var e;r(null==c?void 0:null===(e=c[ev[n.coinB]])||void 0===e?void 0:e.usd)}m&&console.error(y)},[c,d]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"flex items-center justify-start border-b border-slate-600 space-x-4 mb-6 lg:mb-12 pb-2",children:[(0,f.jsxs)("button",{type:"button",className:"outline-none text-primary-500 space-x-2",onClick:()=>t(!0),children:[(0,f.jsx)("span",{className:"no-underline",children:"<"}),(0,f.jsx)("span",{className:"underline",children:a("show-all")})]}),(0,f.jsx)("button",{type:"button",className:A(s?"outline-none text-slate-500 pointer-events-none":"outline-none text-primary-500 underline cursor-pointer"),onClick:()=>i(!0),disabled:s,children:s?"".concat(a("editing-position"),"..."):"".concat(a("edit-position"))})]}),(0,f.jsxs)("div",{className:"flex flex-wrap items-start justify-between space-y-4 md:space-y-0",children:[(0,f.jsxs)("div",{className:"w-full md:w-1/2",children:[(0,f.jsx)("span",{className:"flex items-center justify-start",children:(0,f.jsx)(eZ,{coinA:n.coinA,coinB:n.coinB,type:p.ViewPosition})}),(0,f.jsxs)("p",{className:"text-slate-100 my-2",children:[(0,f.jsxs)("span",{className:"text-slate-400",children:[a("total-streamed"),":"]})," ",n.input.toFixed(3)," ",n.coinA,"x (",j(parseFloat(n.streamedUsdValue)),")"]}),(0,f.jsxs)("p",{className:"text-slate-100 my-2",children:[(0,f.jsxs)("span",{className:"text-slate-400",children:[a("stream-rate"),":"]})," ",parseFloat(n.output).toFixed(3)," ",n.coinA,"x (",j(parseFloat(n.rateUsdValue)),")"]})]}),!s&&(0,f.jsx)("div",{className:"w-full md:w-1/2",children:(0,f.jsx)(eD,{pairs:o,position:n})}),s&&(0,f.jsx)("div",{className:"w-full md:w-1/2 mt-4",children:(0,f.jsx)(tj,{setClose:i,position:n})})]})]})},tD=["your markets","stream rate","total streamed"],t_=e=>{let{positions:t,queries:n}=e,{t:a}=(0,F.$G)("home"),[s,i]=(0,S.useState)([]),[l,r]=(0,S.useState)(new Map),[o,c]=(0,S.useState)(!0),u=eg(),d=tC(t),p=ew(d),[m,y]=(0,S.useState)([["0","0"]]),[x,h]=(0,S.useState)(),[b,g]=(0,S.useState)(!0),{address:T,isConnected:v}=(0,E.mA)(),[w]=tE.Z.useQuerySushiPoolPricesMutation();return(0,S.useEffect)(()=>{if(p.size>0&&d.size>0){let e=[];for(let[t,n]of d){if(n[0]===L.sN.USDC||n[0]===L.sN.IbAlluoUSD||n[0]===L.sN.StIbAlluoUSD||n[0]===L.sN.DAI){let{priceSorted:a}=eA(p.get(ev[n[1]]));a.length&&(e.push([a[0][1],a[a.length-1][1]]),y(e))}if(n[1]===L.sN.USDC||n[1]===L.sN.IbAlluoUSD||n[1]===L.sN.StIbAlluoUSD||n[1]===L.sN.DAI){let{priceSorted:s}=eA(p.get(ev[n[0]]));s.length&&(e.push([s[0][1],s[s.length-1][1]]),y(e))}}}},[p,d]),(0,S.useEffect)(()=>{let e=Z.ow.map(async e=>{let t=await (0,B.EG)({address:T,chainId:I.yu.id,token:e}).then(e=>null==e?void 0:e.formatted);return{token:e,balance:t}});Promise.all(e).then(e=>{let t=new Map;e.map(e=>t.set(null==e?void 0:e.token,null==e?void 0:e.balance)),r(t)})},[T,v]),(0,S.useEffect)(()=>{if(T&&v&&n.size>0&&t.length>0){let e=[];t.map((t,a)=>{var s,i,l,r,o,c,d,p,y;e.push({...t,positions:(null===(s=n.get(null==t?void 0:t.flowKey))||void 0===s?void 0:s.totalFlows)||0,rateUsdValue:ta(null===(i=n.get(null==t?void 0:t.flowKey))||void 0===i?void 0:i.placeholder,u.get(null==t?void 0:t.tokenA)),streamedUsdValue:ta(null===(l=n.get(null==t?void 0:t.flowKey))||void 0===l?void 0:null===(r=l.streamedSoFar)||void 0===r?void 0:r.toFixed(0),u.get(null==t?void 0:t.tokenA)),input:(null===(o=n.get(null==t?void 0:t.flowKey))||void 0===o?void 0:o.streamedSoFar)||0,output:null===(c=n.get(null==t?void 0:t.flowKey))||void 0===c?void 0:c.placeholder,avgBuyPrice:m.length&&(null===(d=m[a])||void 0===d?void 0:d.length)?((+(null==m?void 0:null===(p=m[a])||void 0===p?void 0:p[0])+ +(null==m?void 0:null===(y=m[a])||void 0===y?void 0:y[1]))/2).toFixed(3):"0"})}),i(e)}},[T,v,m,t,n,u]),(0,f.jsxs)(f.Fragment,{children:[o&&(0,f.jsxs)("div",{className:"mt-4",children:[(0,f.jsx)(e5,{content:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("p",{className:"text-primary-500 uppercase",children:a("your-streams")}),(0,f.jsx)(el,{icon:(0,f.jsx)(tS.Z,{className:"h-4 w-4"}),type:"button",action:"".concat(a("new-position")),handleClick:()=>{c(!1)}})]})}),b&&(s.length?(0,f.jsx)(e$,{headers:tD,rowData:s,tableLoaderRows:12,selectable:!0,selectData:e=>{h(e),g(!1)}}):(0,f.jsxs)("p",{className:"italic",children:[a("no-positions"),"..."]})),!b&&(0,f.jsx)(tI,{close:b,setClose:g,position:x})]}),!o&&(0,f.jsx)(tk,{close:o,setClose:c})]})};var tF=n(59721),tM=n(64202);let tR=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"name",type:"string"},{indexed:!1,internalType:"string",name:"id",type:"string"}],name:"AffiliateApplied",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"affiliateId",type:"string"}],name:"AffiliateWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"customer",type:"address"}],name:"OrganicCustomerRegistered",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"customer",type:"address"},{indexed:!1,internalType:"address",name:"affiliate",type:"address"},{indexed:!1,internalType:"string",name:"affiliateId",type:"string"}],name:"ReferredCustomerRegistered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[],name:"APP_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"addressToAffiliate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"}],name:"affiliateIdToAffiliate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"affiliates",outputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"id",type:"string"},{internalType:"bool",name:"enabled",type:"bool"},{internalType:"uint256",name:"totalRef",type:"uint256"},{internalType:"address",name:"addr",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"affiliateId",type:"string"}],name:"applyForAffiliate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newAddress",type:"address"}],name:"changeAffiliateAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"customerToAffiliate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"affiliateId",type:"string"}],name:"disableAffiliate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"customerAddr",type:"address"}],name:"getAffiliateAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"affiliateId",type:"string"}],name:"isAffiliateEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isCustomerOrganic",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"contractAddr",type:"address"}],name:"registerApp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"customerAddr",type:"address"},{internalType:"string",name:"affiliateId",type:"string"}],name:"safeRegisterCustomer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"contractAddr",type:"address"}],name:"unregisterApp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"affiliateId",type:"string"}],name:"verifyAffiliate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawAffiliate",outputs:[],stateMutability:"nonpayable",type:"function"}];(c=h||(h={})).INACTIVE="inactive",c.REGISTERING="registering",c.AWAITING_VERIFICATION="awaitingVerification",c.ENABLED="enabled";let tO=e=>{let t=[[new Blob([e]).size<=32,"Cannot be larger than 32 characters (Some characters count as 2)"],[e.length>1,"Must be at least 2 characters"]];return t},tU=e=>tO(e).reduce((e,t)=>!1===t[0]?[...e,t[1]]:e,[]),tB=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>{},a=await (0,B.a4)({address:t,abi:tR,functionName:"addressToAffiliate",args:[e.toLowerCase()]}),s=await (0,B.a4)({address:t,abi:tR,functionName:"affiliates",args:[a]});return $.O$.from(s.addr).isZero()?h.INACTIVE:!1===s.enabled?h.AWAITING_VERIFICATION:0===tU(s.id).length?(n(s.id),h.ENABLED):void 0},tL=()=>{let{t:e}=(0,F.$G)("home"),{address:t,isConnected:n}=(0,E.mA)(),[a,s]=(0,S.useState)("Copy"),[i,l]=(0,S.useState)("pro.ricochet-exchange.eth.limo/#/ref/"),[r,o]=(0,S.useState)(),[c,u]=(0,S.useState)(!1),[d,p]=(0,S.useState)([]),[m,y]=(0,S.useState)(),[x,b]=(0,S.useState)(Z.CU),{chain:g}=(0,E.LN)();(0,S.useEffect)(()=>{y(null==t?void 0:t.toLowerCase().slice(0,10))},[t,n]),(0,S.useEffect)(()=>{g&&(80001===g.id&&b(W.mr),137===g.id&&b(Z.CU),10===g.id&&b(P.aq))},[null==g?void 0:g.id]),(0,S.useEffect)(()=>{(async()=>{if(t&&n&&x){if((null==g?void 0:g.id)!==137)return o(h.INACTIVE);let e=await tB(t,x,y);o(e)}})()},[t,n,x]),(0,S.useEffect)(()=>{if(r===h.REGISTERING&&t&&n&&x){let e=setInterval(async()=>{let e=await tB(t,x,y);o(e)},5e3);return()=>clearInterval(e)}},[r,t,n,x]);let T=()=>{navigator.clipboard.writeText("".concat(i).concat(m)).then(()=>{s("Copied!"),setTimeout(()=>{s("Copy")},3e3)}).catch()},v=e=>{let{value:t}=e.target;y(t),p(tU(t))},w=async e=>{null==e||e.preventDefault(),u(!0);let n=await (0,B.$q)({address:x,abi:tR,functionName:"applyForAffiliate",args:[m,m]}),a=await (0,B.n9)(n);a.wait().then(e=>{e&&(o(h.REGISTERING),(async()=>{let e=await (0,B.$q)({address:x,abi:tR,functionName:"applyForAffiliate",args:[m,m],overrides:{from:t}}),n=await (0,B.n9)(e);n.wait().then(e=>u(!1))})()),u(!1)}).catch(e=>{o(h.INACTIVE),p(["Error registering this url: possible duplicate. Please try another url"]),console.error(e)})};return(0,f.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,f.jsxs)("div",{className:"flex items-center justify-center text-slate-100 space-x-3",children:[(0,f.jsx)(tF.Z,{className:"h-6 w-6"}),(0,f.jsx)("p",{className:"uppercase tracking-widest",children:e("refer")})]}),(0,f.jsx)("p",{className:"text-slate-100",children:e("apply-refer")}),n&&(r===h.INACTIVE||r===h.REGISTERING)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("p",{className:"text-slate-400",children:[e("customize-url"),":"]}),(0,f.jsxs)("form",{onSubmit:w,className:"w-full space-y-4",children:[(0,f.jsxs)("div",{className:A(d.length>0?"border-red-700":"border-primary-500","inline-flex py-2 pl-3 w-full border rounded-lg"),children:[(0,f.jsx)("div",{className:"w-2/3 text-primary-700 truncate",children:(0,f.jsx)("span",{children:i})}),(0,f.jsx)("input",{type:"text",defaultValue:m,onChange:e=>v(e),className:"w-1/3 pl-1 pr-3 text-primary-100 placeholder-primary-500 bg-transparent focus:outline-none dark:placeholder-primary-500 ",placeholder:"".concat(e("referral-url"))})]}),d.map(t=>(0,f.jsx)("p",{className:"text-red-700 text-xs italic",children:e(t)},t)),(0,f.jsx)(ec,{type:"submit",loading:c,disabled:c,primary:!0,action:c?"".concat(e("registering"),"..."):e("register-url")})]})]}),!n&&(0,f.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4",children:[(0,f.jsxs)("p",{className:"text-primary-500",children:[e("connect-for-referrals"),"."]}),(0,f.jsx)(tc.x3.Custom,{children:t=>{let{isConnected:n,show:a}=t;return(0,f.jsx)(f.Fragment,{children:!n&&(0,f.jsx)(eo,{action:"".concat(e("connect-wallet")),type:"button",handleClick:a})})}})]}),n&&r===h.AWAITING_VERIFICATION&&(0,f.jsx)("div",{children:(0,f.jsxs)("p",{children:[e("Awaiting verification. Come back later or ping us on our discord:"),(0,f.jsx)("br",{}),(0,f.jsx)(tg,{className:"text-slate-200 underline",href:"https://discord.gg/mss4t2ED3y",target:"_blank",rel:"noreferrer",children:"https://discord.gg/mss4t2ED3y"})]})}),n&&r===h.ENABLED&&(0,f.jsxs)("div",{className:"flex flex-col justify-start items-center gap-1",children:[(0,f.jsx)("p",{children:e("your-referral-url")}),(0,f.jsx)("p",{children:i+m}),(0,f.jsxs)("button",{className:"flex justify-center items-center gap-1",onClick:T,children:[(0,f.jsx)(tM.Z,{className:"h-5 w-5"})," ",e(a)]})]}),(0,f.jsx)("a",{className:"inline-flex items-center space-x-1 text-primary-400",href:"https://docs.ricochet.exchange/readme/referral-program",target:"_blank",rel:"noopener noreferrer",children:(0,f.jsx)("span",{className:"underline",children:e("how-does-it-work")})})]})},tZ=(e,t)=>{let n=null==e?void 0:e.reduce((e,n)=>n.token.id===t.toLowerCase()?e+parseInt(n.currentFlowRate,10):e,0);return(n/1e18*2592e3).toFixed(3)},tW=(e,t,n)=>{let a=null==e?void 0:e.reduce((e,a)=>{var s,i;return(null==a?void 0:null===(s=a.token)||void 0===s?void 0:s.id)===(null==t?void 0:t.toLowerCase())&&(null==a?void 0:null===(i=a.sender)||void 0===i?void 0:i.id)===(null==n?void 0:n.toLowerCase())?e+parseInt(a.currentFlowRate,10):e},0);return a},tP=(e,t,n,a,s)=>{let i,l;let r=e9.X7.find(t=>t.flowKey===e),o=(null==r?void 0:r.superToken)||"",c=(null==r?void 0:r.tokenA)||"",u=n.get(o),d=tW(null==u?void 0:u.inflows,c,t);Object.keys(a).length>0&&(i=a["".concat(c.toLowerCase(),"-").concat(o.toLowerCase())]),Object.keys(s).length>0&&(l=s["".concat(c.toLowerCase(),"-").concat(o.toLowerCase())]);let p=(d/1e18*2592e3).toFixed(6),m=tZ(null==u?void 0:u.inflows,c),y=null==u?void 0:u.inflows.filter(e=>"0"!==e.currentFlowRate);return{flowKey:e,flowsReceived:d,flowsOwned:m,totalFlows:(null==y?void 0:y.length)||0,placeholder:p,streamedSoFar:i,receivedSoFar:l,subsidyRate:{perso:0,total:0,endDate:"unknown"}}},tG=(e,t,n)=>{let a=$.O$.from(e),s=$.O$.from(n),i=$.O$.from(t).mul(1e3),l=$.O$.from(new Date().getTime());return s.isZero()?es.formatEther(a):es.formatEther(a.add(l.sub(i).mul(s).div(1e3)))};var tz=n(68552),tQ=n(9008),tH=n.n(tQ),tV=n(20640);let tK=e=>({10:"/protocol-v1-optimism-mainnet",137:"/protocol-v1-matic",80001:"/protocol-v1-mumbai"})[e],t$=e9.X7.map(e=>e.superToken);var tq=!0;function tY(){let e=function(){let[e,t]=S.useState(!1);return S.useEffect(()=>t(!0),[]),e}(),{t}=(0,F.$G)("home"),{address:n,isConnected:a}=(0,E.mA)(),[s,i]=(0,S.useState)(new e7.Z(0)),[l,r]=(0,S.useState)("0"),[o,c]=(0,S.useState)(!1),{chain:u}=(0,E.LN)(),d=(0,E.yL)({chainId:(null==u?void 0:u.id)||I.yu.id}),[p,m]=(0,S.useState)(),{data:y,isLoading:x,isSuccess:h,isError:b,error:g}=eb.Z.useGetTokenPriceQuery("richochet"),{data:T,isSuccess:v,isError:w,error:A}=eb.Z.useGetUpgradedTokensListQuery(),[N,k]=(0,S.useState)(new Map),[_,M]=(0,S.useState)({}),[R,O]=(0,S.useState)([]),[U,L]=(0,S.useState)([]),[W,P]=(0,S.useState)(0),[H,V]=(0,S.useState)(new Map),[K,$]=(0,S.useState)([0]),[q,Y]=(0,S.useState)(0),[X,ee]=(0,S.useState)(!1),[et,en]=(0,S.useState)(!1),[ea,es]=(0,S.useState)([]),ei=eg(),[el]=tV.Z.useQueryFlowsMutation(),[er]=tV.Z.useQueryStreamsMutation(),[ec]=tV.Z.useQueryReceivedMutation(),[eu,ed]=(0,S.useState)();(0,S.useEffect)(()=>{u&&((null==u?void 0:u.id)===80001&&ed(z),(null==u?void 0:u.id)===137&&ed(G),(null==u?void 0:u.id)===10&&ed(Q),m((0,e9.st)(null==u?void 0:u.id)))},[null==u?void 0:u.id]),(0,S.useEffect)(()=>{a&&J(n).then(e=>M(e))},[n,a,null==u?void 0:u.id]),(0,S.useEffect)(()=>{let e=t$.map(async e=>await el({queryAddress:e,network:tK((null==u?void 0:u.id)||137)}).then(e=>{var t,n;return null==e?void 0:null===(t=e.data)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.account}));Promise.all(e).then(e=>es(e))},[e,n,a,null==u?void 0:u.id]);let ep=(e,t)=>{(e||[]).forEach(e=>{let n=t["".concat(e.token.id,"-").concat(e.receiver.id)]||0;Object.assign(t,{["".concat(e.token.id,"-").concat(e.receiver.id)]:Number(n)+Number(tG(e.streamedUntilUpdatedAt,e.updatedAtTimestamp,e.currentFlowRate))})})},em=(e,t)=>{(e||[]).forEach(e=>{let n=t["".concat(e.token.id,"-").concat(e.sender.id)]||0;Object.assign(t,{["".concat(e.token.id,"-").concat(e.sender.id)]:Number(n)+Number(tG(e.streamedUntilUpdatedAt,e.updatedAtTimestamp,e.currentFlowRate))})})},ey=(e,t)=>{let a=new Map;t$.forEach((e,t)=>{ea.length>0&&(null!==ea[t]?a.set(e,ea[t]):a.set(e,{inflows:[],outflows:[]}))});let s=new Map;if(a.size>0)for(let[i,l]of Object.entries(e9.he))s.set(l,tP(l,n,a,e,t));k(s)},ex=async()=>{let e={},t={};n&&(await er({address:n,network:tK(null==u?void 0:u.id)}).then(t=>{var n,a;ep(null==t?void 0:null===(n=t.data)||void 0===n?void 0:null===(a=n.data)||void 0===a?void 0:a.streams,e)}),await ec({receiver:n,network:tK(null==u?void 0:u.id)}).then(e=>{var n,a;em(null==e?void 0:null===(n=e.data)||void 0===n?void 0:null===(a=n.data)||void 0===a?void 0:a.streams,t)})),ey(e,t)},eh=e=>{let t=[Z.Ne,Z.gI,Z.PV,Z.Xr,Z.dU,Z.q9,Z.MJ];return!!t.includes(e)};(0,S.useEffect)(()=>{ea.length>0&&ex()},[ea,n,a,null==u?void 0:u.id]),(0,S.useEffect)(()=>{if(a&&n&&e&&p){let t=p.filter(e=>{var t;let{flowKey:n}=e;return parseFloat(null===(t=N.get(n))||void 0===t?void 0:t.placeholder)>0});L(t)}},[N,n,a,e,p,null==u?void 0:u.id]),(0,S.useEffect)(()=>{if(a&&w&&console.error(A),a&&v&&eu){en(!0);let e=eu.reduce((e,t)=>{let n=Object.keys(_).length&&T&&Object.keys(ev).length&&(parseFloat(_[t.superTokenAddress])*parseFloat(T[ev[t.coin]].usd)).toFixed(6);return isNaN(+n)?e+0:e+parseFloat(n)},0);P(e),en(!1)}},[a,n,_,T,v,null==u?void 0:u.id,eu]),(0,S.useEffect)(()=>{ei.size>0&&N.size>0&&p&&O(p.filter(e=>e.type===e9.Z6.market).sort((e,t)=>{let n=parseFloat(tn(e,N,ei)),a=parseFloat(tn(t,N,ei));return a-n}))},[N,ei,null==u?void 0:u.id,p]),(0,S.useEffect)(()=>{if(R.length){ee(!0);let e=new Map;(async()=>await Promise.all(R.map(async t=>{eh(t.superToken)&&await (0,B.a4)({address:t.superToken,abi:tv,functionName:(null==u?void 0:u.id)===137?"getOutputPool":"outputPools",args:(null==u?void 0:u.id)===137?[3]:[1]}).then(n=>{let a=(Number(n.emissionRate)/1e18*2592e3).toFixed(4);e.set(t.superToken,a.toString())}).catch(e=>{console.log("error",e)})})).then(t=>V(e)))()}},[R,null==u?void 0:u.id]),(0,S.useEffect)(()=>{R.length&&N.size>0&&H.size>0&&R.map(e=>{var t,n;let a=+(null===(t=N.get(e.flowKey))||void 0===t?void 0:t.placeholder)/+(null===(n=N.get(e.flowKey))||void 0===n?void 0:n.flowsOwned)*100,s=+a/100*+H.get(e.superToken);s&&$(e=>[...e,s])})},[H,N,R,null==u?void 0:u.id]),(0,S.useEffect)(()=>{if(K.length){let e=K.filter((e,t,n)=>n.indexOf(e)===t).reduce((e,t)=>e+t,0);Y(e),ee(!1)}},[K,null==u?void 0:u.id]),(0,S.useEffect)(()=>{if(a&&y&&h){var e;i(new e7.Z(parseFloat(null==y?void 0:null===(e=y.richochet)||void 0===e?void 0:e.usd)))}b&&console.error(g)},[a,n,y,h,null==u?void 0:u.id]);let ef=async()=>{c(!0),await (0,tz.x)((null==u?void 0:u.id)||137).then(async e=>{if(U.length>0){let t=U.map(async t=>{await e.cfaV1.getNetFlow({superToken:t.tokenA,account:n,providerOrSigner:d})});Promise.all(t).then(e=>{let t=e.reduce((e,t)=>e+parseFloat(t),0).toFixed(0);if(isNaN(+t))return;let n=new e7.Z(t),a=n.times(new e7.Z("2592000")).div(new e7.Z("10e17")).times(s).toFixed(0);r(a),c(!1)})}c(!1)}).catch(e=>c(!1))};return((0,S.useEffect)(()=>{a&&s&&(null==u?void 0:u.id)&&U&&ef()},[a]),e)?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(tH(),{children:[(0,f.jsx)("title",{children:"Ricochet | Streaming Exchange"}),(0,f.jsx)("meta",{name:"description",content:"Automatic Real-Time Crypto Investing"}),(0,f.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,f.jsx)("link",{rel:"icon",type:"image/svg+xml",href:"/favicon.svg"})]}),(0,f.jsxs)("div",{className:"bg-gradient-to-b from-background-700 via-background-800 to-background-900 overflow-clip",children:[(0,f.jsx)(tT,{}),(0,f.jsx)("main",{children:(0,f.jsxs)("div",{className:"mx-auto w-screen py-6 px-8 lg:px-16",children:[(0,f.jsx)(C,{}),a&&(0,f.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 justify-items-stretch place-items-stretch gap-10",children:[(0,f.jsx)(e3,{content:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("h6",{className:"font-light uppercase tracking-widest text-primary-500 mb-2",children:t("total-in-positions")}),et&&!W&&(0,f.jsx)("div",{className:"animate-pulse",children:(0,f.jsx)("div",{className:"h-4 rounded bg-slate-700"})}),(W||0===W)&&!et&&(0,f.jsx)("p",{className:"text-slate-100 font-light text-2xl",children:j(W)})]})}),(0,f.jsx)(e3,{content:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("h6",{className:"font-light uppercase tracking-widest text-primary-500 mb-2",children:t("net-flow-rate")}),o&&!l&&(0,f.jsx)("div",{className:"animate-pulse",children:(0,f.jsx)("div",{className:"h-4 rounded bg-slate-700"})}),l&&!o&&(0,f.jsxs)("p",{className:"text-slate-100 font-light text-2xl",children:[j(parseFloat(l))," / ",t("month")]})]})}),(0,f.jsx)(e3,{content:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("h6",{className:"font-light uppercase tracking-widest text-primary-500 mb-2",children:t("ric-balance")}),(0,f.jsx)("div",{className:"text-slate-100 font-light text-2xl space-x-1",children:(0,f.jsx)(D,{tokenAddress:(0,Z.P3)((null==u?void 0:u.id)||137),showSymbol:!0})})]})}),(0,f.jsx)(e3,{content:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("h6",{className:"font-light uppercase tracking-widest text-primary-500 mb-2",children:t("rewards-earned")}),X&&!q&&(0,f.jsx)("p",{className:"text-slate-100 font-light text-2xl",children:"0 RIC / mo"}),(q||0===q)&&!X&&(0,f.jsxs)("p",{className:"text-slate-100 font-light text-2xl",children:[q.toFixed(2)," RIC / mo"]})]})})]}),(0,f.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10 place-content-stretch mt-16",children:[(0,f.jsxs)("div",{className:"lg:col-span-2 space-y-10",children:[(0,f.jsx)(e1,{content:a?(0,f.jsx)(t_,{positions:U,queries:N}):(0,f.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4 h-96",children:[(0,f.jsxs)("p",{className:"text-primary-500",children:[t("connect-for-positions"),"."]}),(0,f.jsx)(tc.x3.Custom,{children:e=>{let{isConnected:n,show:a}=e;return(0,f.jsx)(f.Fragment,{children:!n&&(0,f.jsx)(eo,{action:"".concat(t("connect-wallet")),type:"button",handleClick:a})})}})]})}),(0,f.jsx)(e1,{content:R&&(0,f.jsx)(ti,{coingeckoPrices:ei,sortedList:R,queries:N})})]}),(0,f.jsxs)("div",{className:"space-y-10",children:[(0,f.jsx)(e2,{content:(0,f.jsx)(te,{})}),(0,f.jsx)(eJ,{content:a?(0,f.jsx)(eY,{tokens:T,balances:_}):(0,f.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4 h-96",children:[(0,f.jsxs)("p",{className:"text-primary-500",children:[t("connect-for-balances"),"."]}),(0,f.jsx)(tc.x3.Custom,{children:e=>{let{isConnected:n,show:a}=e;return(0,f.jsx)(f.Fragment,{children:!n&&(0,f.jsx)(eo,{action:"".concat(t("connect-wallet")),type:"button",handleClick:a})})}})]})}),(0,f.jsx)(e0,{content:(0,f.jsx)(tL,{})})]})]})]})}),(0,f.jsx)(e4,{})]})]}):(0,f.jsx)(f.Fragment,{})}}},function(e){e.O(0,[698,774,888,179],function(){return e(e.s=53124)}),_N_E=e.O()}]);